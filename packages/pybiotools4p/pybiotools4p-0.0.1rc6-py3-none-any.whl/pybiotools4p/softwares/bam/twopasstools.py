# AUTOGENERATED! DO NOT EDIT! File to edit: 18_2passtools.ipynb (unless otherwise specified).

__all__ = ['Twopasstools']

# Cell

from ..base import Base, modify_cmd

# Cell

class Twopasstools(Base):
    def __init__(self, software, fd):
        super(Twopasstools, self).__init__(software)
        self._default = fd


    def cmd_version(self):
        '''
        :return:
        '''
        return 'echo {repr} ;echo NO VERSION INFO  '.format(
            repr=self.__repr__(),
            software=self._software
        )

    @modify_cmd
    def cmd_score(self,reference,output,bam):
        '''
        '''
        return r'''
{software} {score_paras} -o {output} -f {reference} {bam}
        '''.format(
            software=self._software,
            score_paras=self._default['score'],
            **locals()
        )

    @modify_cmd
    def cmd_filter(self, filtered_bed, raw_bed):
        '''
        '''

        return r'''
{software} {filter_paras} -o {filtered_bed}  {raw_bed}
            '''.format(
            filter_paras=self._default['filter'],
            software=self._software,
            **locals())



    def __repr__(self):
        return '2passtools:' + self._software

    def __str__(self):
        return '''A package for filtering splice junctions extracted from noisy long read alignments generated using minimap2.
        These can then be used to perform second pass alignment with minimap2, feeding in the junctions using the --junc-bed flag.'''
