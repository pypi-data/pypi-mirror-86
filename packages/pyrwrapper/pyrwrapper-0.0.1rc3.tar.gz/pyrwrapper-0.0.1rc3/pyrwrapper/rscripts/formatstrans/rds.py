# AUTOGENERATED! DO NOT EDIT! File to edit: 00_05_tords.ipynb (unless otherwise specified).

__all__ = ['table_to_rds']

# Cell

from ...formats import list_to_r_vector
import os

# Cell

def table_to_rds(count_table,clinical_info,output,sep_c='\t',sep_i='\t',rscript='/usr/bin/env Rscript'):
    '''

    '''
    return r'''#! {rscript}

library(Biobase)

count_table <- "{count_table}"
clinical_info <- "{clinical_info}"

cm <- as.matrix(read.csv(count_table,sep='{sep_c}',header=TRUE,row.names=1,check.names=FALSE))
ci <- read.csv(clinical_info,sep='{sep_i}',header=TRUE,row.names=1,check.names=FALSE)
cm <- cm[,rownames(ci)]

phenoData <- new("AnnotatedDataFrame",data=ci)
eset <-  ExpressionSet(assayData=cm,phenoData=phenoData)

saveRDS(eset, file = "{output}")
    '''.format(**locals())