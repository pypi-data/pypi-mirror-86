# AUTOGENERATED! DO NOT EDIT! File to edit: 10_01_utils.ipynb (unless otherwise specified).

__all__ = ['run_cmd', 'write_script', 'run_script', 'make_dirs', 'dirname', 'list_to_dict']

# Cell

from subprocess import PIPE,Popen
import os

# Cell


def run_cmd(cmd):
    p = Popen(cmd,shell=True,stdout=PIPE,stderr=PIPE)
    stdout,stderr = p.communicate()
    return stdout.decode('utf8'),stderr.decode('utf8')



def write_script(string,output):
    '''

    '''
    with open(output,'w') as out:
        out.write(string)

    os.chmod(output, 0o755)



def run_script(script):
    '''
    '''
    stdout,stderr = run_cmd(script)
    with open(f'{script}.o','w') as out, open(f'{script}.e','w') as err:
        out.write(stdout)
        err.write(stderr)


def make_dirs(*dirs):
    for d in dirs:
        os.makedirs(d,exist_ok=True)

def dirname(*files):
    return [os.path.dirname(f) for f in files]


def list_to_dict(mylist):
    my_dict={}
    for i in mylist:
        if ':' in i:
            name,col_name = i.split(':')
        else:
            name = i
            col_name=i
        my_dict[name] = col_name
    return my_dict