{# Copyright (c) 2007 Noah Kantrowitz. All rights reserved.
   Copyright (c) 2008 Iker Jimenez. All rights reserved.
#}
# extends 'admin.html'
<!DOCTYPE html>
<html>
  <head>
    <title>
      # block admintitle
      ${_("Hide Values")}
      # endblock admintitle
    </title>
    # block head
    ${ super() }
    #   if not enabled:
    <script>
      jQuery(function($) {
        $("form :input").not("[name='toggle']").not("[type='hidden']")
          .prop("disabled", true);
      });
    </script>
    #   endif
    # endblock head
  </head>
  <body>
    # block adminpanel
    <h2>${_("Values for %(field)s", field=field.label)}</h2>
    <p class="help">
    # if not enabled:
    ${_("Filtering for this field is currently disabled")}
    # endif
    </p>
    <form id="addhideval" class="addnew" method="post" action="">
      ${jmacros.form_token_input()}
      <fieldset>
        <legend>${_("Add Field Mask")}</legend>
        <div class="field">
          <label>Group: <br />
            <input type="text" name="group" />
          </label>
        </div>
        <div class="field">
          <label>Value: <br />
            <select name="value">
              # for option in field.options:
              <option value="${option}">${option}</option>
              # endfor
            </select>
          </label>
        </div>
        <p class="help">${_("Allow a group to see the given field value")}</p>
        <div class="buttons">
          <input type="submit" name="add" value="Add" />
        </div>
      </fieldset>
    </form>
    <form id="listhideval" method="post" action="">
      ${jmacros.form_token_input()}
      <table class="listing">
        <thead>
          <tr>
            <th class="sel">&nbsp;</th>
            <th>${_("Group")}</th>
            <th>${_("Value")}</th>
          </tr>
        </thead>
        <tbody>
          # for value in values:
          <tr>
            <td><input type="checkbox" name="sel"
                       value="${value.group}#${value.value}" /></td>
            <td>${value.group}</td>
            <td>${value.value}</td>
          </tr>
          # endfor
        </tbody>
      </table>
      <div class="buttons">
        <input type="submit" name="remove" value="${_('Remove selected items')}" />
        <input type="submit" name="toggle"
               value="${_('Disable filtering') if enabled else _('Enable filtering')}" />
      </div>
    </form>
    # endblock adminpanel
  </body>
</html>
