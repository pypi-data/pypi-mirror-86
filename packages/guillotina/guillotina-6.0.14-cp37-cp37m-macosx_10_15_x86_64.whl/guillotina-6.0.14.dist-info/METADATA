Metadata-Version: 2.1
Name: guillotina
Version: 6.0.14
Summary: asyncio REST API Resource database
Home-page: https://github.com/plone/guillotina
Author: Ramon Navarro Bosch & Nathan Van Gheem
Author-email: ramon@plone.org
License: BSD
Keywords: asyncio,REST,Framework,transactional,asgi
Platform: UNKNOWN
Classifier: License :: OSI Approved :: BSD License
Classifier: Intended Audience :: Developers
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.7.0
Requires-Dist: uvicorn
Requires-Dist: jsonschema
Requires-Dist: python-dateutil
Requires-Dist: pycryptodome
Requires-Dist: jwcrypto
Requires-Dist: setuptools
Requires-Dist: orjson
Requires-Dist: zope.interface
Requires-Dist: pyjwt
Requires-Dist: asyncpg
Requires-Dist: cffi
Requires-Dist: PyYAML (>=5.1)
Requires-Dist: lru-dict
Requires-Dist: mypy-extensions
Requires-Dist: argon2-cffi
Requires-Dist: backoff
Requires-Dist: multidict
Provides-Extra: docs
Requires-Dist: async-asgi-testclient (<2.0.0) ; extra == 'docs'
Requires-Dist: sphinx ; extra == 'docs'
Requires-Dist: recommonmark ; extra == 'docs'
Requires-Dist: sphinxcontrib-httpdomain ; extra == 'docs'
Requires-Dist: sphinxcontrib-httpexample ; extra == 'docs'
Requires-Dist: sphinx-guillotina-theme ; extra == 'docs'
Requires-Dist: sphinx-autodoc-typehints ; extra == 'docs'
Provides-Extra: mailer
Requires-Dist: html2text (>=2018.1.9) ; extra == 'mailer'
Requires-Dist: aiosmtplib (>=1.0.6) ; extra == 'mailer'
Provides-Extra: recaptcha
Requires-Dist: aiohttp (<4) ; extra == 'recaptcha'
Provides-Extra: redis
Requires-Dist: aioredis (>=1.2.0) ; (python_version < "3.8") and extra == 'redis'
Requires-Dist: aioredis (>=1.3.0) ; (python_version >= "3.8") and extra == 'redis'
Provides-Extra: test
Requires-Dist: pytest (<6.1.0,>=3.8.0) ; extra == 'test'
Requires-Dist: docker ; extra == 'test'
Requires-Dist: backoff ; extra == 'test'
Requires-Dist: psycopg2-binary ; extra == 'test'
Requires-Dist: pytest-asyncio (<=0.13.0) ; extra == 'test'
Requires-Dist: pytest-cov ; extra == 'test'
Requires-Dist: coverage (>=4.0.3) ; extra == 'test'
Requires-Dist: pytest-docker-fixtures ; extra == 'test'
Requires-Dist: pytest-rerunfailures (<=9.0) ; extra == 'test'
Requires-Dist: async-asgi-testclient (<2.0.0) ; extra == 'test'
Requires-Dist: openapi-spec-validator ; extra == 'test'
Requires-Dist: aiohttp (<4.0.0,>=3.0.0) ; extra == 'test'
Provides-Extra: testdata
Requires-Dist: aiohttp (<3.6.0,>=3.0.0) ; (python_version < "3.8") and extra == 'testdata'
Requires-Dist: aiohttp (<4.0.0,>=3.6.0) ; (python_version >= "3.8") and extra == 'testdata'

Introduction
============

.. image:: https://img.shields.io/badge/docs-latest-brightgreen.svg?style=flat
   :target: http://guillotina.readthedocs.io/en/latest/

.. image:: https://travis-ci.org/plone/guillotina.svg?branch=master
   :target: https://travis-ci.org/plone/guillotina

.. image:: https://codecov.io/gh/plone/guillotina/branch/master/graph/badge.svg
   :target: https://codecov.io/gh/plone/guillotina/branch/master
   :alt: Test Coverage

.. image:: https://img.shields.io/pypi/pyversions/guillotina.svg
   :target: https://pypi.python.org/pypi/guillotina/
   :alt: Python Versions

.. image:: https://img.shields.io/pypi/v/guillotina.svg
   :target: https://pypi.python.org/pypi/guillotina

.. image:: https://img.shields.io/pypi/l/guillotina.svg
   :target: https://pypi.python.org/pypi/guillotina/
   :alt: License

.. image:: https://badges.gitter.im/plone/guillotina.png
   :target: https://gitter.im/plone/guillotina
   :alt: Chat

.. image:: https://img.shields.io/docker/cloud/build/plone/guillotina
   :target: https://hub.docker.com/r/guillotina/guillotina
   :alt: Docker Cloud Build Status

Please `read the detailed docs <http://guillotina.readthedocs.io/en/latest/>`_


This is the working project of the next generation Guillotina server based on asyncio.


Dependencies
------------

* Python >= 3.7
* PostgreSQL >= 9.6


Quickstart
----------

We use pip

.. code-block:: shell

    pip install guillotina


Run PostgreSQL
--------------

If you don't have a PostgreSQL server to play with, you can run one with Docker.

Download and start the Docker container by running

.. code-block:: shell

    make run-postgres



Run the server
--------------

To run the server

.. code-block:: shell

    g


Then...

.. code-block:: shell

    curl http://localhost:8080


Or, better yet, use `Postman <https://www.getpostman.com/>`_ to start playing with API.

You can also navigate in your Guillotina server with its built-in web admin interface by visiting http://localhost:8080/+admin/.

Deploy on Heroku
----------------

Read more `Guillotina-Heroku <https://github.com/guillotinaweb/guillotina-heroku>`_.

.. image:: https://www.herokucdn.com/deploy/button.svg
   :target: https://www.heroku.com/deploy?template=https://github.com/guillotinaweb/guillotina-heroku

Getting started with development
--------------------------------

Using pip (requires Python > 3.7)

.. code-block:: shell

    git clone git@github.com:plone/guillotina.git
    cd guillotina
    python3.7 -m venv .
    ./bin/pip install -r requirements.txt
    ./bin/pip install -r contrib-requirements.txt
    ./bin/pip install -e '.[test]'
    ./bin/pre-commit install


Run tests
---------

We're using `pytest <https://docs.pytest.org/en/latest/>`_

.. code-block:: shell

    ./bin/pytest guillotina

and for test coverage

.. code-block:: shell

    ./bin/pytest --cov=guillotina guillotina/

With file watcher...

.. code-block:: shell

    ./bin/ptw guillotina --runner=./bin/py.test


To run tests with cockroach db

.. code-block:: shell

    USE_COCKROACH=true ./bin/pytest guillotina

Default
-------

Default root access can be done with AUTHORIZATION header : Basic root:root


Docker
------

You can also run Guillotina with Docker!


First, run PostgreSQL

.. code-block:: shell

    docker run --rm \
        -e POSTGRES_DB=guillotina \
        -e POSTGRES_USER=guillotina \
        -p 127.0.0.1:5432:5432 \
        --name postgres \
        postgres:9.6

Then, run Guillotina

.. code-block:: shell

    docker run --rm -it \
        --link=postgres -p 127.0.0.1:8080:8080 \
        plone/guillotina:latest \
        g -c '{"databases": [{"db": {"storage": "postgresql", "dsn": "postgres://guillotina:@postgres/guillotina"}}], "root_user": {"password": "root"}}'


This assumes you have a config.yaml in your current working directory


Chat
----

Join us to talk about Guillotina at https://gitter.im/plone/guillotina


CHANGELOG
=========

6.0.14 (2020-11-25)
-------------------

- Fix reset password flow to be equal to register
  [bloodbare]


6.0.13 (2020-11-23)
-------------------

- Allowing to define Owner roles users on creation
  [bloodbare]


6.0.12 (2020-11-15)
-------------------

- Fixing workflow subscriber for state history
  [bloodbare]

- Allow to search on basic workflow state publish
  [bloodbare]


6.0.11 (2020-11-08)
-------------------

- Adding Vocabularies API compatible to Plone REST API
  [bloodbare]

- Adding Workflow contrib package with API compatible to Plone REST API
  [bloodbare]

- Adding languages and contrib vocabulary
  [bloodbare]

- Avoid default value check on get for each get operation
  [bloodbare]

- Adding post serialize mechanism to modify JSON responses based on packages
  [bloodbare]

6.0.10 (2020-11-01)
-------------------

- Fix conflict cors response.
  [bloodbare]


6.0.9 (2020-10-30)
------------------

- Change transaction strategy 'simple'
  [masipcat]

- Fix bug on error deserialization

- Fix transaction context manager doesn't abort the txn when a exception is raised
  [masipcat]

- Add id checker for move
  [qiwn]


6.0.8 (2020-09-24)
------------------

- mailer: import 'aiosmtplib' and 'html2text' lazily
  [masipcat]

- Cleanup travis logic from test fixtures [lferran]

- settings: always convert 'pool_size' to int
  [masipcat]


6.0.7 (2020-09-09)
------------------

- Add IFileNameGenerator adapter
  [qiwn]


6.0.6 (2020-08-25)
------------------

- Pass 'server_settings' in 'connection_options' to asyncpg pool
  [masipcat]


6.0.5 (2020-08-11)
------------------

- Fix register schema
  [bloodbare]

- Fix async test without pytest mark
  [masipcat]

6.0.4 (2020-07-29)
------------------

- fix release


6.0.3 (2020-07-29)
------------------

- Cookiecutter: fix test_install.py
  [masipcat]

- test deps: unpin pytest-asyncio
  [masipcat]

- doc: fix md headers (h1 -> h2) and other small fixes
  [masipcat]

- doc: fix example app
  [masipcat]

- Fix sphinx-build
  [masipcat]

- Make sure it does not fail on empty field
  [bloodbare]

6.0.2 (2020-07-10)
------------------

- Set load_catalog=true in test settings
  [masipcat]


6.0.1 (2020-07-09)
------------------

- Also allow JWT sub claim for loginid
  [allusa]


6.0.0 (2020-06-17)
------------------

- Nothing changed yet.


6.0.0b6 (2020-06-17)
--------------------

- Undo datetime object renderization on
  guillotina_json_default. [lferran]

- Be able to define optional requestBody [lferran]

- Fix registry update, when type provided mismatch with the one specified
  by the schema return an error HTTP status code instead of throwing an
  exception.
  [pfreixes]


6.0.0b5 (2020-06-08)
--------------------

- Few fixes & improvements: [lferran]
  - Fix JSONField validation error
  - Add unit tests for middleware generate error response
  - Add path_qs to Request object
  - Add content_length to Request object
  - Fix datetime objects renderization

- Optimize json schema ref resolution to not make so copies of all json schema definition
  for every validator instance
  [vangheem]

- Fix json schema ref resolution for nested objects
  [vangheem]

- Catalog subscribers conditional loading
  [bloodbre]

- Allow arbitrary path parameter within the path parameters
  [dmanchon]


6.0.0b4 (2020-05-23)
--------------------

- Allow to delete elements with the same id at cockroach
  [bloodbare]

- Split blob and objects initialization statements
  [bloodbare]

- Allow to ovewrite object table name and blob table name
  [bloodbare]

- Bug fix: handle raw strings in json payload [lferran]

- swagger tags fixes [ableeb]

- Move from travis to github actions [lferran]


6.0.0b3 (2020-04-24)
--------------------

- Provide patch operations for json field
  [vangheem]

- Optimize extend operation for bucket list field
  [vangheem]

- `.` and `..` should be blocked as valid ids. The browser will auto translate them
  to what current dir and parent dir respectively which gives unexpected results.
  [vangheem]

- Change in ISecurityPolicy that might improve performance during traversal for views
  with permission guillotina.Public
  [masipcat]

- Fix Response object responding with 'default_content' when 'content' evaluates to False
  [masipcat]

- Change log level for conflict errors to warning and fix locating tid of conflict error
  [vangheem]

- Fix security policy not taking into account IInheritPermissionMap for principals
  [masipcat,bloodbare]


- Fix use of int32 sql interpolation when it should have been bigint for tid
  [vangheem]

- Restore task vars after usage of Content API
- Zope.interface 5.0.1 upgrade
  [bloodbare]



...

You are seeing a truncated changelog.

You can read the `changelog file <https://github.com/plone/guillotina/blob/master/CHANGELOG.rst>`_
for a complete list.



