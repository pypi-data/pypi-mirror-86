function H(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function I(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function J(n){return n=I(Math.abs(n)),n?n[1]:NaN}function K(n,t){return function(r,e){for(var o=r.length,f=[],c=0,u=n[0],x=0;o>0&&u>0&&!(x+u+1>e&&(u=Math.max(1,e-x)),f.push(r.substring(o-=u,o+u)),(x+=u+1)>e);)u=n[c=(c+1)%n.length];return f.reverse().join(t)}}function Q(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var V=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C(n){if(!(t=V.exec(n)))throw new Error("invalid format: "+n);var t;return new F({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}C.prototype=F.prototype;function F(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}F.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _(n){n:for(var t=n.length,r=1,e=-1,o;r<t;++r)switch(n[r]){case".":e=o=r;break;case"0":e===0&&(e=r),o=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(o+1):n}var L;function v(n,t){var r=I(n,t);if(!r)return n+"";var e=r[0],o=r[1],f=o-(L=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,c=e.length;return f===c?e:f>c?e+new Array(f-c+1).join("0"):f>0?e.slice(0,f)+"."+e.slice(f):"0."+new Array(1-f).join("0")+I(n,Math.max(0,t+f-1))[0]}function G(n,t){var r=I(n,t);if(!r)return n+"";var e=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+new Array(o-e.length+2).join("0")}var R={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:H,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>G(n*100,t),r:G,s:v,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function X(n){return n}var q=Array.prototype.map,B=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nn(n){var t=n.grouping===void 0||n.thousands===void 0?X:K(q.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",o=n.decimal===void 0?".":n.decimal+"",f=n.numerals===void 0?X:Q(q.call(n.numerals,String)),c=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",x=n.nan===void 0?"NaN":n.nan+"";function j(a){a=C(a);var b=a.fill,w=a.align,h=a.sign,M=a.symbol,l=a.zero,S=a.width,A=a.comma,g=a.precision,E=a.trim,s=a.type;s==="n"?(A=!0,s="g"):R[s]||(g===void 0&&(g=12),E=!0,s="g"),(l||b==="0"&&w==="=")&&(l=!0,b="0",w="=");var W=M==="$"?r:M==="#"&&/[boxX]/.test(s)?"0"+s.toLowerCase():"",Y=M==="$"?e:/[%p]/.test(s)?c:"",N=R[s],Z=/[defgprs%]/.test(s);g=g===void 0?6:/[gprs]/.test(s)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function $(i){var p=W,d=Y,y,D,k;if(s==="c")d=N(i)+d,i="";else{i=+i;var z=i<0||1/i<0;if(i=isNaN(i)?x:N(Math.abs(i),g),E&&(i=_(i)),z&&+i===0&&h!=="+"&&(z=!1),p=(z?h==="("?h:u:h==="-"||h==="("?"":h)+p,d=(s==="s"?B[8+L/3]:"")+d+(z&&h==="("?")":""),Z){for(y=-1,D=i.length;++y<D;)if(k=i.charCodeAt(y),48>k||k>57){d=(k===46?o+i.slice(y+1):i.slice(y))+d,i=i.slice(0,y);break}}}A&&!l&&(i=t(i,Infinity));var P=p.length+i.length+d.length,m=P<S?new Array(S-P+1).join(b):"";A&&l&&(i=t(m+i,m.length?S-d.length:Infinity),m="");switch(w){case"<":i=p+i+d+m;break;case"=":i=p+m+i+d;break;case"^":i=m.slice(0,P=m.length>>1)+p+i+d+m.slice(P);break;default:i=m+p+i+d;break}return f(i)}return $.toString=function(){return a+""},$}function U(a,b){var w=j((a=C(a),a.type="f",a)),h=Math.max(-8,Math.min(8,Math.floor(J(b)/3)))*3,M=Math.pow(10,-h),l=B[8+h/3];return function(S){return w(M*S)+l}}return{format:j,formatPrefix:U}}var T,O,tn;en({thousands:",",grouping:[3],currency:["$",""]});function en(n){return T=nn(n),O=T.format,tn=T.formatPrefix,T}export{O as format};
