import{c as A}from"./common/_commonjsHelpers-2c0027bd.js";var U=f=>encodeURIComponent(f).replace(/[!'()*]/g,i=>`%${i.charCodeAt(0).toString(16).toUpperCase()}`),w="%[a-f0-9]{2}",C=new RegExp(w,"gi"),x=new RegExp("("+w+")+","gi");function y(f,i){try{return decodeURIComponent(f.join(""))}catch(g){}if(f.length===1)return f;i=i||1;var o=f.slice(0,i),u=f.slice(i);return Array.prototype.concat.call([],y(o),y(u))}function $(f){try{return decodeURIComponent(f)}catch(u){for(var i=f.match(C),o=1;o<i.length;o++)f=y(i,o).join(""),i=f.match(C);return f}}function D(f){for(var i={"%FE%FF":"��","%FF%FE":"��"},o=x.exec(f);o;){try{i[o[0]]=decodeURIComponent(o[0])}catch(h){var u=$(o[0]);u!==o[0]&&(i[o[0]]=u)}o=x.exec(f)}i["%C2"]="�";for(var g=Object.keys(i),m=0;m<g.length;m++){var s=g[m];f=f.replace(new RegExp(s,"g"),i[s])}return f}var I=function(f){if(typeof f!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof f+"`");try{return f=f.replace(/\+/g," "),decodeURIComponent(f)}catch(i){return D(f)}},E=(f,i)=>{if(!(typeof f=="string"&&typeof i=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i==="")return[f];const o=f.indexOf(i);return o===-1?[f]:[f.slice(0,o),f.slice(o+i.length)]},R=A(function(f,i){const o=r=>r==null;function u(r){switch(r.arrayFormat){case"index":return e=>(n,t)=>{const a=n.length;return t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[s(e,r),"[",a,"]"].join("")]:[...n,[s(e,r),"[",s(a,r),"]=",s(t,r)].join("")]};case"bracket":return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[s(e,r),"[]"].join("")]:[...n,[s(e,r),"[]=",s(t,r)].join("")];case"comma":case"separator":return e=>(n,t)=>t==null||t.length===0?n:n.length===0?[[s(e,r),"=",s(t,r)].join("")]:[[n,s(t,r)].join(r.arrayFormatSeparator)];default:return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,s(e,r)]:[...n,[s(e,r),"=",s(t,r)].join("")]}}function g(r){let e;switch(r.arrayFormat){case"index":return(n,t,a)=>{if(e=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!e){a[n]=t;return}a[n]===void 0&&(a[n]={}),a[n][e[1]]=t};case"bracket":return(n,t,a)=>{if(e=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!e){a[n]=t;return}if(a[n]===void 0){a[n]=[t];return}a[n]=[].concat(a[n],t)};case"comma":case"separator":return(n,t,a)=>{const d=typeof t=="string"&&t.split("").indexOf(r.arrayFormatSeparator)>-1,c=d?t.split(r.arrayFormatSeparator).map(l=>h(l,r)):t===null?t:h(t,r);a[n]=c};default:return(n,t,a)=>{if(a[n]===void 0){a[n]=t;return}a[n]=[].concat(a[n],t)}}}function m(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function s(r,e){return e.encode?e.strict?U(r):encodeURIComponent(r):r}function h(r,e){return e.decode?I(r):r}function F(r){return Array.isArray(r)?r.sort():typeof r=="object"?F(Object.keys(r)).sort((e,n)=>Number(e)-Number(n)).map(e=>r[e]):r}function b(r){const e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function N(r){let e="";const n=r.indexOf("#");return n!==-1&&(e=r.slice(n)),e}function j(r){r=b(r);const e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function O(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function S(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),m(e.arrayFormatSeparator);const n=g(e),t=Object.create(null);if(typeof r!="string")return t;if(r=r.trim().replace(/^[?#&]/,""),!r)return t;for(const a of r.split("&")){let[d,c]=E(e.decode?a.replace(/\+/g," "):a,"=");c=c===void 0?null:["comma","separator"].includes(e.arrayFormat)?c:h(c,e),n(h(d,e),c,t)}for(const a of Object.keys(t)){const d=t[a];if(typeof d=="object"&&d!==null)for(const c of Object.keys(d))d[c]=O(d[c],e);else t[a]=O(d,e)}return e.sort===!1?t:(e.sort===!0?Object.keys(t).sort():Object.keys(t).sort(e.sort)).reduce((a,d)=>{const c=t[d];return Boolean(c)&&typeof c=="object"&&!Array.isArray(c)?a[d]=F(c):a[d]=c,a},Object.create(null))}i.extract=j,i.parse=S,i.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),m(e.arrayFormatSeparator);const n=c=>e.skipNull&&o(r[c])||e.skipEmptyString&&r[c]==="",t=u(e),a={};for(const c of Object.keys(r))n(c)||(a[c]=r[c]);const d=Object.keys(a);return e.sort!==!1&&d.sort(e.sort),d.map(c=>{const l=r[c];return l===void 0?"":l===null?s(c,e):Array.isArray(l)?l.reduce(t(c),[]).join("&"):s(c,e)+"="+s(l,e)}).filter(c=>c.length>0).join("&")},i.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);const[n,t]=E(r,"#");return Object.assign({url:n.split("?")[0]||"",query:S(j(r),e)},e&&e.parseFragmentIdentifier&&t?{fragmentIdentifier:h(t,e)}:{})},i.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0},e);const n=b(r.url).split("?")[0]||"",t=i.extract(r.url),a=i.parse(t,{sort:!1}),d=Object.assign(a,r.query);let c=i.stringify(d,e);c&&(c=`?${c}`);let l=N(r.url);return r.fragmentIdentifier&&(l=`#${s(r.fragmentIdentifier,e)}`),`${n}${c}${l}`}});export default R;
