import{c as x}from"./common/_commonjsHelpers-2c0027bd.js";var w=x(function(d){var g=Object.prototype.hasOwnProperty,c="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(c=!1));function E(i,t,n){this.fn=i,this.context=t,this.once=n||!1}function b(i,t,n,r,h){if(typeof n!="function")throw new TypeError("The listener must be a function");var l=new E(n,r||i,h),s=c?c+t:t;return i._events[s]?i._events[s].fn?i._events[s]=[i._events[s],l]:i._events[s].push(l):(i._events[s]=l,i._eventsCount++),i}function y(i,t){--i._eventsCount===0?i._events=new p:delete i._events[t]}function a(){this._events=new p,this._eventsCount=0}a.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)g.call(n,r)&&t.push(c?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t},a.prototype.listeners=function(t){var n=c?c+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var h=0,l=r.length,s=new Array(l);h<l;h++)s[h]=r[h].fn;return s},a.prototype.listenerCount=function(t){var n=c?c+t:t,r=this._events[n];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,n,r,h,l,s){var f=c?c+t:t;if(!this._events[f])return!1;var e=this._events[f],u=arguments.length,v,o;if(e.fn){e.once&&this.removeListener(t,e.fn,void 0,!0);switch(u){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,n),!0;case 3:return e.fn.call(e.context,n,r),!0;case 4:return e.fn.call(e.context,n,r,h),!0;case 5:return e.fn.call(e.context,n,r,h,l),!0;case 6:return e.fn.call(e.context,n,r,h,l,s),!0}for(o=1,v=new Array(u-1);o<u;o++)v[o-1]=arguments[o];e.fn.apply(e.context,v)}else{var _=e.length,m;for(o=0;o<_;o++){e[o].once&&this.removeListener(t,e[o].fn,void 0,!0);switch(u){case 1:e[o].fn.call(e[o].context);break;case 2:e[o].fn.call(e[o].context,n);break;case 3:e[o].fn.call(e[o].context,n,r);break;case 4:e[o].fn.call(e[o].context,n,r,h);break;default:if(!v)for(m=1,v=new Array(u-1);m<u;m++)v[m-1]=arguments[m];e[o].fn.apply(e[o].context,v)}}}return!0},a.prototype.on=function(t,n,r){return b(this,t,n,r,!1)},a.prototype.once=function(t,n,r){return b(this,t,n,r,!0)},a.prototype.removeListener=function(t,n,r,h){var l=c?c+t:t;if(!this._events[l])return this;if(!n)return y(this,l),this;var s=this._events[l];if(s.fn)s.fn===n&&(!h||s.once)&&(!r||s.context===r)&&y(this,l);else{for(var f=0,e=[],u=s.length;f<u;f++)(s[f].fn!==n||h&&!s[f].once||r&&s[f].context!==r)&&e.push(s[f]);e.length?this._events[l]=e.length===1?e[0]:e:y(this,l)}return this},a.prototype.removeAllListeners=function(t){var n;return t?(n=c?c+t:t,this._events[n]&&y(this,n)):(this._events=new p,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=c,a.EventEmitter=a,d.exports=a});export default w;
