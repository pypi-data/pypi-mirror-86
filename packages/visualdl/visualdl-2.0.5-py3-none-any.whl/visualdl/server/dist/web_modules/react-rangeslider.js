import{c as W,g as ce}from"./common/_commonjsHelpers-2c0027bd.js";import{r as Y}from"./common/index-6f180876.js";import{p as de}from"./common/index-f4be0386.js";import{c as ue}from"./common/index-cf7d4e84.js";var J=function(){if(typeof Map!="undefined")return Map;function t(e,n){var r=-1;return e.some(function(a,o){return a[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(n,r){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,a=t(r,n);~a&&r.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var m=o[a];n.call(r,m[1],m[0])}},e}()}(),B=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,P=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),he=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(P):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),fe=2;function ve(t,e){var n=!1,r=!1,a=0;function o(){n&&(n=!1,t()),r&&w()}function m(){he(o)}function w(){var _=Date.now();if(n){if(_-a<fe)return;r=!0}else n=!0,r=!1,setTimeout(m,e);a=_}return w}var pe=20,me=["top","right","bottom","left","width","height","size","weight"],be=typeof MutationObserver!="undefined",ge=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ve(this.refresh.bind(this),pe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){if(!B||this.connected_)return;document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),be?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0},t.prototype.disconnect_=function(){if(!B||!this.connected_)return;document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,a=me.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Q=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},M=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||P},X=A(0,0,0,0);function I(t){return parseFloat(t)||0}function Z(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,a){var o=t["border-"+a+"-width"];return r+I(o)},0)}function ye(t){for(var e=["top","right","bottom","left"],n={},r=0,a=e;r<a.length;r++){var o=a[r],m=t["padding-"+o];n[o]=I(m)}return n}function we(t){var e=t.getBBox();return A(0,0,e.width,e.height)}function _e(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return X;var r=M(t).getComputedStyle(t),a=ye(r),o=a.left+a.right,m=a.top+a.bottom,w=I(r.width),_=I(r.height);if(r.boxSizing==="border-box"&&(Math.round(w+o)!==e&&(w-=Z(r,"left","right")+o),Math.round(_+m)!==n&&(_-=Z(r,"top","bottom")+m)),!Ee(t)){var x=Math.round(w+o)-e,D=Math.round(_+m)-n;Math.abs(x)!==1&&(w-=x),Math.abs(D)!==1&&(_-=D)}return A(a.left,a.top,w,_)}var Oe=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof M(t).SVGGraphicsElement}:function(t){return t instanceof M(t).SVGElement&&typeof t.getBBox=="function"}}();function Ee(t){return t===M(t).document.documentElement}function Re(t){return B?Oe(t)?we(t):_e(t):X}function Ce(t){var e=t.x,n=t.y,r=t.width,a=t.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,m=Object.create(o.prototype);return Q(m,{x:e,y:n,width:r,height:a,top:n,right:e+r,bottom:a+n,left:e}),m}function A(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Se=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=A(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Re(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Me=function(){function t(e,n){var r=Ce(n);Q(this,{target:e,contentRect:r})}return t}(),xe=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new J,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element=="undefined"||!(Element instanceof Object))return;if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;if(n.has(e))return;n.set(e,new Se(e)),this.controller_.addObserver(this),this.controller_.refresh()},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element=="undefined"||!(Element instanceof Object))return;if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;if(!n.has(e))return;n.delete(e),n.size||this.controller_.removeObserver(this)},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!this.hasActive())return;var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Me(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ee=typeof WeakMap!="undefined"?new WeakMap:new J,te=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ge.getInstance(),r=new xe(e,n,this);ee.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){te.prototype[t]=function(){var e;return(e=ee.get(this))[t].apply(e,arguments)}});var De=function(){return typeof P.ResizeObserver!="undefined"?P.ResizeObserver:te}(),F=W(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=n,e.clamp=r;function n(a){return a.charAt(0).toUpperCase()+a.substr(1)}function r(a,o,m){return Math.min(Math.max(a,o),m)}}),ze=W(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function u(c,O){for(var y=0;y<O.length;y++){var i=O[y];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}return function(c,O,y){return O&&u(c.prototype,O),y&&u(c,y),c}}(),r=w(ue),a=w(Y),o=w(de),m=w(De);function w(u){return u&&u.__esModule?u:{default:u}}function _(u,c,O){return c in u?Object.defineProperty(u,c,{value:O,enumerable:!0,configurable:!0,writable:!0}):u[c]=O,u}function x(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function D(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:u}function ne(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}var R={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},L=function(u){ne(c,u);function c(O,y){x(this,c);var i=D(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,O,y));return i.handleFormat=function(l){var s=i.props.format;return s?s(l):l},i.handleUpdate=function(){if(!i.slider)return;var l=i.props.orientation,s=(0,F.capitalize)(R.orientation[l].dimension),d=i.slider["offset"+s],h=i.handle["offset"+s];i.setState({limit:d-h,grab:h/2})},i.handleStart=function(l){var s=i.props.onChangeStart;document.addEventListener("mousemove",i.handleDrag),document.addEventListener("mouseup",i.handleEnd),i.setState({active:!0},function(){s&&s(l)})},i.handleDrag=function(l){l.stopPropagation();var s=i.props.onChange,d=l.target,h=d.className,f=d.classList,p=d.dataset;if(!s||h==="rangeslider__labels")return;var v=i.position(l);f&&f.contains("rangeslider__label-item")&&p.value&&(v=parseFloat(p.value)),s&&s(v,l)},i.handleEnd=function(l){var s=i.props.onChangeComplete;i.setState({active:!1},function(){s&&s(l)}),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleEnd)},i.handleKeyDown=function(l){l.preventDefault();var s=l.keyCode,d=i.props,h=d.value,f=d.min,p=d.max,v=d.step,b=d.onChange,g=void 0;switch(s){case 38:case 39:g=h+v>p?p:h+v,b&&b(g,l);break;case 37:case 40:g=h-v<f?f:h-v,b&&b(g,l);break}},i.getPositionFromValue=function(l){var s=i.state.limit,d=i.props,h=d.min,f=d.max,p=f-h,v=l-h,b=v/p,g=Math.round(b*s);return g},i.getValueFromPosition=function(l){var s=i.state.limit,d=i.props,h=d.orientation,f=d.min,p=d.max,v=d.step,b=(0,F.clamp)(l,0,s)/(s||1),g=v*Math.round(b*(p-f)/v),S=h==="horizontal"?g+f:p-g;return(0,F.clamp)(S,f,p)},i.position=function(l){var s=i.state.grab,d=i.props,h=d.orientation,f=d.reverse,p=i.slider,v=R.orientation[h].coordinate,b=f?R.orientation[h].reverseDirection:R.orientation[h].direction,g="client"+(0,F.capitalize)(v),S=l.touches?l.touches[0][g]:l[g],z=p.getBoundingClientRect()[b],k=f?z-S-s:S-z-s,V=i.getValueFromPosition(k);return V},i.coordinates=function(l){var s=i.state,d=s.limit,h=s.grab,f=i.props.orientation,p=i.getValueFromPosition(l),v=i.getPositionFromValue(p),b=f==="horizontal"?v+h:v,g=f==="horizontal"?b:d-b;return{fill:g,handle:b,label:b}},i.renderLabels=function(l){return a.default.createElement("ul",{ref:function(d){i.labels=d},className:(0,r.default)("rangeslider__labels")},l)},i.state={active:!1,limit:0,grab:0},i}return n(c,[{key:"componentDidMount",value:function(){this.handleUpdate();var y=new m.default(this.handleUpdate);y.observe(this.slider)}},{key:"render",value:function(){var y=this,i=this.props,l=i.value,s=i.orientation,d=i.className,h=i.tooltip,f=i.reverse,p=i.labels,v=i.min,b=i.max,g=i.handleLabel,S=this.state.active,z=R.orientation[s].dimension,k=f?R.orientation[s].reverseDirection:R.orientation[s].direction,V=this.getPositionFromValue(l),H=this.coordinates(V),re=_({},z,H.fill+"px"),ie=_({},k,H.handle+"px"),ae=h&&S,N=[],j=Object.keys(p);if(j.length>0){j=j.sort(function(C,E){return f?C-E:E-C});var q=!0,U=!1,$=void 0;try{for(var G=j[Symbol.iterator](),K;!(q=(K=G.next()).done);q=!0){var T=K.value,oe=this.getPositionFromValue(T),se=this.coordinates(oe),le=_({},k,se.label+"px");N.push(a.default.createElement("li",{key:T,className:(0,r.default)("rangeslider__label-item"),"data-value":T,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:le},this.props.labels[T]))}}catch(C){U=!0,$=C}finally{try{!q&&G.return&&G.return()}finally{if(U)throw $}}}return a.default.createElement("div",{ref:function(E){y.slider=E},className:(0,r.default)("rangeslider","rangeslider-"+s,{"rangeslider-reverse":f},d),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,"aria-valuemin":v,"aria-valuemax":b,"aria-valuenow":l,"aria-orientation":s},a.default.createElement("div",{className:"rangeslider__fill",style:re}),a.default.createElement("div",{ref:function(E){y.handle=E},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:ie,tabIndex:0},ae?a.default.createElement("div",{ref:function(E){y.tooltip=E},className:"rangeslider__handle-tooltip"},a.default.createElement("span",null,this.handleFormat(l))):null,a.default.createElement("div",{className:"rangeslider__handle-label"},g)),p?this.renderLabels(N):null)}}]),c}(Y.Component);L.propTypes={min:o.default.number,max:o.default.number,step:o.default.number,value:o.default.number,orientation:o.default.string,tooltip:o.default.bool,reverse:o.default.bool,labels:o.default.object,handleLabel:o.default.string,format:o.default.func,onChangeStart:o.default.func,onChange:o.default.func,onChangeComplete:o.default.func},L.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},e.default=L}),ke=W(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=r(ze);function r(a){return a&&a.__esModule?a:{default:a}}e.default=n.default}),je=ce(ke);export default je;
