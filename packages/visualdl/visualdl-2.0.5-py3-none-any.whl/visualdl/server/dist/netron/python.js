var python=python||{};python.Parser=class{constructor(e,i){this._tokenizer=new python.Tokenizer(e,i),python.Parser._precedence||(python.Parser._precedence={or:2,and:3,not:4,in:5,instanceof:5,is:5,"<":5,">":5,"<=":5,">=":5,"<>":5,"==":5,"!=":5,"|":6,"^":7,"&":8,"<<":9,">>":9,"+":10,"-":10,"*":11,"@":11,"/":11,"//":11,"%":11,"~":13,"**":14})}parse(){const e=this._node("program");for(e.body=[];!this._tokenizer.match("eof");){const i=this._parseStatement();if(i)e.body.push(i);else if(!(this._tokenizer.eat(`
`)||this._tokenizer.eat(";")||this._tokenizer.peek().type=="eof"||this._tokenizer.eat("indent")&&this._tokenizer.peek().type=="eof"))throw new python.Error("Unknown statement"+this._tokenizer.location())}return e}_parseSuite(){const e=this._node("block");e.statements=[];let i=null;if(this._tokenizer.eat(`
`)){if(this._tokenizer.eat("indent")){for(;!this._tokenizer.eat("eof")&&!this._tokenizer.eat("dedent");)if(!this._tokenizer.eat(";")){if(i=this._parseStatement(),i)e.statements.push(i);else if(!this._tokenizer.eat(`
`)&&!this._tokenizer.match("dedent")&&!this._tokenizer.match("eof"))throw new python.Error("Empty statement"+this._tokenizer.location())}}}else if(!this._tokenizer.eat("eof")){for(;!this._tokenizer.match(`
`)&&!this._tokenizer.match("eof")&&!this._tokenizer.match("dedent");)if(!this._tokenizer.eat(";")){if(i=this._parseStatement(),!i)throw new python.Error("Empty statement"+this._tokenizer.location());e.statements.push(i)}this._tokenizer.eat(`
`)}return e}_parseStatement(){let e=this._node();if(e=this._eat("id","break"),e)return e;if(e=this._eat("id","continue"),e)return e;if(e=this._eat("id","return"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","raise"),e)return e.exception=this._parseExpression(-1,["from"]),this._tokenizer.eat("id","from")?e.from=this._parseExpression():this._tokenizer.eat(",")&&(e.exception=[e.exception],e.exception.push(this._parseExpression()),this._tokenizer.eat(",")&&e.exception.push(this._parseExpression())),e;if(e=this._eat("id","assert"),e){for(e.condition=this._parseExpression();this._tokenizer.eat(",");)e.condition={type:"list",value:[e.condition]},e.condition.value.push(this._parseExpression());return e}if(e=this._eat("id","exec"),e){if(e.variable=this._parseExpression(-1,["in"]),this._tokenizer.eat("in"))do e.target=e.target||[],e.target.push(this._parseExpression(-1,["in"],!1));while(this._tokenizer.eat(","));return e}if(e=this._eat("id","global"),e){e.variable=[];do e.variable.push(this._parseName());while(this._tokenizer.eat(","));return e}if(e=this._eat("id","nonlocal"),e){e.variable=[];do e.variable.push(this._parseName());while(this._tokenizer.eat(","));return e}if(e=this._eat("id","import"),e){e.modules=[];do{const n=this._node("module");n.name=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(n.as=this._parseExpression(-1,[],!1)),e.modules.push(n)}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","from"),e){const n=this._tokenizer.peek();n&&Array.from(n.type).every(s=>s==".")?(e.from=this._eat(n.type),e.from.expression=this._parseExpression()):e.from=this._parseExpression(),this._tokenizer.expect("id","import"),e.import=[];const r=this._tokenizer.eat("(");do{const s=this._node();s.symbol=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(s.as=this._parseExpression(-1,[],!1)),e.import.push(s)}while(this._tokenizer.eat(","));return r&&this._tokenizer.expect(")"),e}if(e=this._eat("id","class"),e)return e.name=this._parseName().value,this._tokenizer.peek().value==="("&&(e.base=this._parseArguments()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;const i=this._eat("id","async");if(i&&!this._tokenizer.match("id","def")&&!this._tokenizer.match("id","with")&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'def', 'with' or 'for'"+this._tokenizer.location());if(e=this._eat("id","def"),e)return i&&(e.async=i),e.name=this._parseName().value,this._tokenizer.expect("("),e.parameters=this._parseParameters(")"),this._tokenizer.eat("->")&&(e.returnType=this._parseType()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;if(e=this._eat("id","del"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","print"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","if"),e){e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.then=this._parseSuite();let n=e;for(this._tokenizer.eat(`
`);this._tokenizer.eat("id","elif");)n.else=this._node("if"),n=n.else,n.condition=this._parseExpression(),this._tokenizer.expect(":"),n.then=this._parseSuite(),this._tokenizer.eat(`
`);return this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),n.else=this._parseSuite()),e}if(e=this._eat("id","while"),e)return e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e;if(e=this._eat("id","pass"),e)return e;if(e=this._eat("id","for"),e){for(e.variable=[],e.variable.push(this._parseExpression(-1,["in"]));this._tokenizer.eat(",");){if(this._tokenizer.match("id","in")){e.variable.push({});break}e.variable.push(this._parseExpression(-1,["in"]))}for(this._tokenizer.expect("id","in"),e.target=[],e.target.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")){e.target.push({});break}e.target.push(this._parseExpression(-1,["in"]))}return this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e}if(e=this._eat("id","with"),e){i&&(e.async=i),e.item=[];do{const n=this._node();n.type="with_item",n.expression=this._parseExpression(),this._tokenizer.eat("id","as")&&(n.variable=this._parseExpression()),e.item.push(n)}while(this._tokenizer.eat(","));return this._tokenizer.expect(":"),e.body=this._parseSuite(),e}if(e=this._eat("id","try"),e){for(this._tokenizer.expect(":"),e.body=this._parseSuite(),e.except=[];this._tokenizer.match("id","except");){const n=this._node("except");for(this._tokenizer.expect("id","except"),n.clause=[],n.clause.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")||this._tokenizer.match("as")){n.clause.push({});break}n.clause.push(this._parseExpression())}this._tokenizer.eat("id","as")&&(n.variable=this._parseExpression()),this._tokenizer.expect(":"),n.body=this._parseSuite(),e.except.push(n)}return this._tokenizer.match("id","else")&&(e.else=this._node("else"),this._tokenizer.expect("id","else"),this._tokenizer.expect(":"),e.else.body=this._parseSuite()),this._tokenizer.match("id","finally")&&(e.finally=this._node("finally"),this._tokenizer.expect("id","finally"),this._tokenizer.expect(":"),e.finally.body=this._parseSuite()),e}if(this._tokenizer.match("@")){if(e=this._node("decorator"),this._tokenizer.expect("@"),e.value=this._parseExpression(),!e.value||e.value.type!=="call"&&e.value.type!=="id"&&e.value.type!==".")throw new python.Error("Invalid decorator"+this._tokenizer.location());return e}const t=this._parseExpression(-1,[],!0);if(t){if(t.type=="id"&&this._tokenizer.eat(":"))return e=this._node("var"),e.name=t.value,e.location=t.location,e.variableType=this._parseExpression(-1,["="]),this._tokenizer.eat("=")&&(e.initializer=this._parseExpression()),e;let n=!1;switch(t.type){case"=":case":=":case"==":case"!=":case"+=":case"-=":case"*=":case"@=":case"/=":case"//=":case"**=":case"&=":case"|=":case"%=":case">>=":case"<<=":case">>":case"<<":case">=":case"<=":case"<":case">":case"%":case"^=":case"...":case"call":case"assert":case"raise":case"string":case"list":case"var":case".":case"[]":case"yield":case"+":case"-":case"*":case"**":case"@":case"/":case"//":case"~":case"&":case"^":case"|":case"not":case"id":case"number":case"in":case"and":case"or":case"if":case"for":case"tuple":case"lambda":case"await":n=!0}if(n)return t;throw new python.Error("Unhandled expression"+this._tokenizer.location())}return null}_parseExpression(e,i,t){e=e||-1;const n=new Set(i),r=[];for(;;){let s=this._node();const o=this._tokenizer.peek();if(r.length==1&&n.has(o.value))break;const a=python.Parser._precedence[o.value];if(a&&a>=e){if(this._tokenizer.read(),s.type=o.value,o.type!="id"||o.value!=="in"&&o.value!=="not"){if(o.value=="~"){s.type="~",s.expression=this._parseExpression(a,i,t!==!1),r.push(s);continue}o.type=="id"&&o.value=="is"&&this._tokenizer.eat("id","not")&&(s.type="is not")}else if(o.value==="in")s.type="in";else{if(!this._tokenizer.eat("id","in")){s.type="not",s.expression=this._parseExpression(a,i,t!==!1),r.push(s);continue}s.type="not in"}s.left=r.pop(),s.right=this._parseExpression(a,i,t!==!1),r.push(s);continue}if(this._tokenizer.eat(":=")){s.type=":=",s.target=r.pop(),s.expression=this._parseExpression(-1,i,t!==!1),r.push(s);continue}if(this._tokenizer.eat("=")){s.type="=",s.target=r.pop(),s.expression=this._parseExpression(-1,i,t!==!1),r.push(s);continue}switch(o.type){case"-=":case"**=":case"*=":case"//=":case"/=":case"&=":case"%=":case"^=":case"+=":case"<<=":case">>=":case"|=":case"@=":s=this._node(o.type),this._tokenizer.expect(o.type),s.target=r.pop(),s.expression=this._parseExpression(-1,i,!0),r.push(s);continue}if(s=this._eat("id","if"),s){s.then=r.pop(),s.condition=this._parseExpression(),this._tokenizer.expect("id","else"),s.else=this._parseExpression(),r.push(s);continue}for(;this._tokenizer.match("id","for")||this._tokenizer.match("id","async");){const _=this._eat("id","async");if(_&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'for'"+this._tokenizer.location());if(s=this._eat("id","for"),s){for(_&&(s.async=_),s.expression=r.pop(),s.variable=this._parseExpression(-1,["in"],!0),this._tokenizer.expect("id","in"),s.target=this._parseExpression(-1,["for","if"],!0);this._tokenizer.eat("id","if");)s.condition=s.condition||[],s.condition.push(this._parseExpression(-1,["for","if"]));r.push(s)}}if(s=this._eat("id","lambda"),s){s.parameters=this._parseParameters(":"),s.body=this._parseExpression(-1,i,!1),r.push(s);continue}if(s=this._eat("id","yield"),s){if(this._tokenizer.eat("id","from"))s.from=this._parseExpression(-1,[],!0);else{s.expression=[];do s.expression.push(this._parseExpression(-1,[],!1));while(this._tokenizer.eat(","))}r.push(s);continue}if(s=this._eat("id","await"),s){s.expression=this._parseExpression(e,i,t),r.push(s);continue}if(s=this._eat("."),s){this._tokenizer.eat(`
`),s.target=r.pop(),s.member=this._parseName(),r.push(s);continue}if(this._tokenizer.peek().value==="("){if(r.length==0){s=this._node("tuple");const _=this._parseArguments();_.length==1?r.push(_[0]):(s.value=_,r.push(s))}else s=this._node("call"),s.target=r.pop(),s.arguments=this._parseArguments(),r.push(s);continue}if(this._tokenizer.peek().value==="["){r.length==0?r.push(this._parseExpressions()):(s=this._node("[]"),s.target=r.pop(),s.arguments=this._parseSlice(),r.push(s));continue}if(this._tokenizer.peek().value=="{"){r.push(this._parseDictOrSetMaker());continue}s=this._node();const h=this._parseLiteral();if(h){r.length>0&&h.type=="number"&&(h.value.startsWith("-")||h.value.startsWith("+"))?(s.type=h.value.substring(0,1),h.value=h.value.substring(1),s.left=r.pop(),s.right=h,r.push(s)):r.length==1&&h.type=="string"&&r[0].type=="string"?r[0].value+=h.value:r.push(h);continue}if(this._tokenizer.peek().keyword)break;if(s=this._eat("..."),s){r.push(s);continue}const p=this._parseName();if(!p){if(t===!0&&r.length==1&&this._tokenizer.eat(",")){if(r[0].type==="tuple"?s=r[0]:(s=this._node("tuple"),s.value=[r.pop()],r.push(s)),this._tokenizer.peek().value==="=")continue;if(!this._tokenizer.match("=")&&!n.has(this._tokenizer.peek().value)){const _=i.slice(0).concat([",","="]),c=this._parseExpression(e,_,t);if(c){s.value.push(c);continue}}break}break}r.push(p)}if(r.length==1)return r.pop();if(r.length!=0)throw new python.Error("Unexpected expression"+this._tokenizer.location());return null}_parseDictOrSetMaker(){const e=[];this._tokenizer.expect("{");let i=!0;for(;!this._tokenizer.eat("}");){const t=this._parseExpression(-1,[],!1);if(t==null)throw new python.Error("Expected expression"+this._tokenizer.location());if(this._tokenizer.eat(":")||(i=!1),i){const n=this._parseExpression(-1,[],!1);if(n==null)throw new python.Error("Expected expression"+this._tokenizer.location());e.push({type:"pair",key:t,value:n})}else e.push(t);if(this._tokenizer.eat(","),this._tokenizer.eat(`
`),this._tokenizer.eat("}"))break}return i?{type:"dict",value:e}:{type:"set",value:e}}_parseExpressions(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const i=this._parseExpression();if(i==null)throw new python.Error("Expected expression"+this._tokenizer.location());for(e.push(i),this._tokenizer.eat(",");this._tokenizer.eat(`
`););if(this._tokenizer.eat("]"))break}return{type:"list",value:e}}_parseSlice(){let e={type:"::"},i=[];const t=["start","stop","step"];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");)if(this._tokenizer.eat(":"))e[t.shift()]={type:"list",value:i},i=[];else if(!this._tokenizer.eat(",")&&this._tokenizer.peek().value!="]"){const n=this._parseExpression();if(n==null)throw new python.Error("Expected expression"+this._tokenizer.location());i.push(n)}return i.length>0&&(e[t.shift()]={type:"list",value:i}),!e.start||e.stop||e.step||(e=e.start),e}_parseName(){const e=this._tokenizer.peek();return e.type!="id"||e.keyword?null:(this._tokenizer.read(),e)}_parseLiteral(){const e=this._tokenizer.peek();return e.type=="string"||e.type=="number"||e.type=="boolean"?(this._tokenizer.read(),e):null}_parseTypeArguments(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const i=this._parseType();if(i==null)throw new python.Error("Expected type "+this._tokenizer.location());if(e.push(i),!this._tokenizer.eat(",")){this._tokenizer.expect("]");break}}return e}_parseType(){const e=this._node();return e.type="type",e.name=this._parseExpression(-1,["[","="]),e.name?(this._tokenizer.peek().value==="["&&(e.arguments=this._parseTypeArguments()),e):null}_parseParameter(e){const i=this._node("parameter");if(this._tokenizer.eat("/"))return i.name="/",i;this._tokenizer.eat("**")&&(i.parameterType="**"),this._tokenizer.eat("*")&&(i.parameterType="*");const t=this._parseName();return t!==null?(i.name=t.value,e!==":"&&this._tokenizer.eat(":")&&(i.parameterType=this._parseType()),this._tokenizer.eat("=")&&(i.initializer=this._parseExpression()),i):null}_parseParameters(e){const i=[];for(;!this._tokenizer.eat(e);)if(this._tokenizer.eat(`
`),this._tokenizer.eat("(")?i.push(this._parseParameters(")")):i.push(this._parseParameter(e)),this._tokenizer.eat(`
`),!this._tokenizer.eat(",")){this._tokenizer.expect(e);break}return i}_parseArguments(){const e=[];for(this._tokenizer.expect("(");!this._tokenizer.eat(")");){if(this._tokenizer.eat(`
`))continue;const i=this._parseExpression(-1,[],!1);if(i==null)throw new python.Error("Expected expression "+this._tokenizer.location());if(e.push(i),!this._tokenizer.eat(",")){this._tokenizer.eat(`
`),this._tokenizer.expect(")");break}}return e}_node(e){const i={};return i.location=this._tokenizer.location(),e&&(i.type=e),i}_eat(e,i){if(this._tokenizer.match(e,i)){const t=this._node(e==="id"?i:e);return this._tokenizer.expect(e,i),t}return null}},python.Tokenizer=class{constructor(e,i){if(this._text=e,this._file=i,this._position=0,this._lineStart=0,this._line=0,this._token={type:"",value:""},this._brackets=0,this._indentation=[],this._outdent=0,!python.Tokenizer._whitespace){python.Tokenizer._whitespace=new RegExp("[ ᠎ -   　﻿]");const t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿";python.Tokenizer._identifierStart=new RegExp("["+t+"]"),python.Tokenizer._identifierChar=new RegExp("["+t+n+"]")}}peek(){return this._cache||(this._token=this._tokenize(this._token),this._cache=!0),this._token}read(){this._cache||(this._token=this._tokenize(this._token));const e=this._position+this._token.value.length;for(;this._position<e;)python.Tokenizer._isNewline(this._get(this._position))?(this._position=this._newLine(this._position),this._lineStart=this._position,this._line++):this._position++;return this._cache=!1,this._token}match(e,i){const t=this.peek();return!(t.type!==e||i&&t.value!==i)}eat(e,i){const t=this.peek();return!(t.type!==e||i&&t.value!==i)&&(this.read(),!0)}expect(e,i){const t=this.peek();if(t.type!==e)throw new python.Error("Unexpected '"+t.value+"' instead of '"+e+"'"+this.location());if(i&&t.value!==i)throw new python.Error("Unexpected '"+t.value+"' instead of '"+i+"'"+this.location());this.read()}location(){return" at "+this._file+":"+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}static _isSpace(e){switch(e){case" ":case"	":case"\v":case"\f":case" ":return!0;default:return e.charCodeAt(0)>=5760&&python.Tokenizer._whitespace.test(e)}}static _isNewline(e){switch(e){case`
`:case"\r":case"\u2028":case"\u2029":return!0}return!1}static _isIdentifierStartChar(e){return e<"A"?e==="$":e<="Z"?!0:e<"a"?e==="_":e<="z"?!0:e.charCodeAt(0)>=170&&python.Tokenizer._identifierStart.test(e)}static _isIdentifierChar(e){return e<"0"?e==="$":e<="9"?!0:e<"A"?!1:e<="Z"?!0:e<"a"?e==="_":e<="z"?!0:e.charCodeAt(0)>=170&&python.Tokenizer._identifierChar.test(e)}static _isDecimal(e){return e>="0"&&e<="9"||e==="_"}static _isHex(e){return python.Tokenizer._isDecimal(e)||e>="a"&&e<="f"||e>="A"&&e<="F"||e==="_"}static _isOctal(e){return e>="0"&&e<="7"||e==="_"}static _isBinary(e){return e==="0"||e==="1"||e==="_"}_get(e){return e>=this._text.length?"\0":this._text[e]}_skipLine(){for(;this._position<this._text.length&&!python.Tokenizer._isNewline(this._get(this._position));)this._position++}_skipWhitespace(){for(;this._position<this._text.length;){const e=this._text[this._position];if(e=="#")this._skipLine();else if(python.Tokenizer._isSpace(e))this._position++;else if(e=="\\"){if(this._position++,!python.Tokenizer._isNewline(this._get(this._position)))throw new python.Error("Unexpected '"+this._text[this._position]+"' after line continuation"+this.location());this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}else{if(!(this._brackets>0&&python.Tokenizer._isNewline(e)))break;this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}}}_newLine(e){return this._get(e)===`
`&&this._get(e+1)==="\r"||this._get(e)==="\r"&&this._get(e+1)===`
`?e+2:e+1}_tokenize(e){if(this._token.type!==`
`&&this._skipWhitespace(),this._token.type==="dedent"&&(this._indentation.pop(),this._outdent--,this._outdent>0))return{type:"dedent",value:""};if(e.type==`
`){let n="",r=this._position;for(;r<this._text.length;){const o=this._text[r];if(python.Tokenizer._isSpace(o))n+=o,r++;else{if(!python.Tokenizer._isNewline(o)){if(o=="#"){for(n="";r<this._text.length&&!python.Tokenizer._isNewline(this._text[r]);)r++;continue}break}n="",r=this._newLine(r),this._position=r,this._lineStart=r,this._line++}}let s=null;if(n.length>0){const o=this._indentation.length>0?this._indentation[this._indentation.length-1]:"";if(n.length>o.length)s="indent",this._indentation.push(n);else if(n.length>0&&n.length<o.length){s="dedent",this._outdent=0;for(let a=this._indentation.length-1;a>=0&&n.length<this._indentation[a].length;a--)this._outdent++}else this._position+=n.length}else{if(r>=this._text.length)return{type:"eof",value:""};this._indentation.length>0&&(s="dedent",this._outdent=this._indentation.length)}switch(s){case"indent":case"dedent":return{type:s,value:n}}}if(this._position>=this._text.length)return{type:"eof",value:""};const i=this._get(this._position),t=this._string();if(t)return t;switch(i){case"(":case"[":case"{":return this._brackets++,{type:i,value:i};case")":case"]":case"}":if(this._brackets===0)throw new python.Error("Unexpected '"+i+"'"+this.location);return this._brackets--,{type:i,value:i};case",":case";":case"?":return{type:i,value:i};default:{const n=this._number();if(n)return n;if(i==="."){let o=this._position+1;for(;this._get(o)===".";)o++;const a=this._text.substring(this._position,o);return{type:a,value:a}}const r=this._identifier();if(r)return r;const s=this._operator();if(s)return s;break}}if(i===".")return{type:i,value:i};if(i==="\\")return{type:"\\",value:i};if(python.Tokenizer._isNewline(i))return{type:`
`,value:this._text.substring(this._position,this._newLine(this._position))};throw new python.Error("Unexpected token '"+i+"'"+this.location())}_number(){let e=this._get(this._position);const i=e==="-"||e==="+"?1:0;let t=this._position+i;if(e=this._get(t),e==="0"){let r=0;const s=this._get(t+1);if(s!=="x"&&s!=="X"||!python.Tokenizer._isHex(this._get(t+2)))if(s!=="b"&&s!=="B"||!python.Tokenizer._isBinary(this._get(t+2)))if(s!=="o"&&s!=="O"||!python.Tokenizer._isOctal(this._get(t+2))){if(s>="0"&&s<="7"){for(t++;python.Tokenizer._isOctal(this._get(t));)t+=1;this._get(t)!=="l"&&this._get(t)!=="L"||(t+=1),r=8}}else{for(t+=2;python.Tokenizer._isOctal(this._get(t));)t++;r=8}else{for(t+=2;python.Tokenizer._isBinary(this._get(t));)t++;r=2}else{for(t+=2;python.Tokenizer._isHex(this._get(t));)t+=1;this._get(t)!=="l"&&this._get(t)!=="L"||(t+=1),r=16}if(r>0&&this._get(t)!=="."){const o=this._text.substring(this._position,t),a=o.indexOf("_")!==-1?o.split("_").join(""):o;if(!isNaN(parseInt(a,r)))return{type:"number",value:o}}}t=this._position+i;let n=!1;if(this._get(t)>="1"&&this._get(t)<="9"){for(;python.Tokenizer._isDecimal(this._get(t));)t++;e=this._get(t).toLowerCase(),n=e!=="."&&e!=="e"}if(this._get(t)==="0"&&(t++,e=this._get(t).toLowerCase(),n=!python.Tokenizer._isDecimal(e)&&e!=="."&&e!=="e"&&e!=="j"),n){if(this._get(t)==="j"||this._get(t)==="J"||this._get(t)==="l"||this._get(t)==="L")return{type:"number",value:this._text.substring(this._position,t+1)};const r=this._text.substring(this._position,t);if(!isNaN(parseInt(r,10)))return{type:"number",value:r}}if(t=this._position+i,this._get(t)>="0"&&this._get(t)<="9"||this._get(t)==="."&&this._get(t+1)>="0"&&this._get(t+1)<="9"){for(;python.Tokenizer._isDecimal(this._get(t));)t++;for(this._get(t)==="."&&t++;python.Tokenizer._isDecimal(this._get(t));)t++;if(t>this._position+i)if(this._get(t)==="e"||this._get(t)==="E")if(t++,this._get(t)!="-"&&this._get(t)!="+"||t++,python.Tokenizer._isDecimal(this._get(t)))for(;python.Tokenizer._isDecimal(this._get(t));)t++;else t=this._position;else for(;python.Tokenizer._isDecimal(this._get(t));)t++;if(t>this._position+i){if(this._get(t)==="j"||this._get(t)==="J")return{type:"number",value:this._text.substring(this._position,t+1)};const r=this._text.substring(this._position,t),s=r.indexOf("_")!=-1?r.split("_").join(""):r;if(!isNaN(parseFloat(s)))return{type:"number",value:r}}}return null}_identifier(){let e=this._position;if(python.Tokenizer._isIdentifierStartChar(this._get(e)))for(e++;python.Tokenizer._isIdentifierChar(this._get(e));)e++;if(e>this._position){const i=this._text.substring(this._position,e);return{type:"id",value:i,keyword:python.Tokenizer._isKeyword(i)}}return null}_operator(){let e=0;const i=this._get(this._position),t=this._get(this._position+1),n=this._get(this._position+2);switch(i){case"+":case"&":case"|":case"^":case"=":case"!":case"%":case"~":e=t==="="?2:1;break;case"-":e=t==="="||t===">"?2:1;break;case"*":e=t==="*"?n==="="?3:2:t==="="?2:1;break;case"/":e=t==="/"?n==="="?3:2:t==="="?2:1;break;case"<":e=t===">"?2:t==="<"?n==="="?3:2:t==="="?2:1;break;case">":e=t===">"?n==="="?3:2:t==="="?2:1;break;case"@":e=t==="="?2:1;break;case":":e=t==="="?2:1}if(e>0){const r=this._text.substring(this._position,this._position+e);return{type:r,value:r}}return null}_string(){let e=this._position,i=-1;if(this._get(e)==="'"||this._get(e)==='"')i="";else if(this._get(e+1)==="'"||this._get(e+1)==='"'){const t=this._get(e);switch(t.toLowerCase()){case"b":case"f":case"r":case"u":i=t}}else if(this._get(e+2)==="'"||this._get(e+2)==='"'){const t=this._text.substr(this._position,2);switch(t.toLowerCase()){case"br":case"fr":case"rb":case"rf":case"ur":i=t}}if(i.length>=0){e+=i.length;let t="",n=0;const r=this._get(e),s=this._get(e+1),o=this._get(e+2);switch(r){case"'":t=r,n=s==="'"&&o==="'"?3:1;break;case'"':t=r,n=s==='"'&&o==='"'?3:1}if(e+=n,n==1)for(;e<this._text.length;){if(this._text[e]===t)return{type:"string",value:this._text.substring(this._position,e+1)};if(this._text[e]!=="\\"||this._get(e+1)!=t&&this._get(e+1)!=`
`&&this._get(e+1)!="\\"){if(this._text[e]==="\r"||this._text[e]===`
`)break;e++}else e+=2}else if(n==3)for(;e<this._text.length;){if(this._get(e)===t&&this._get(e+1)===t&&this._get(e+2)===t)return{type:"string",value:this._text.substring(this._position,e+3)};this._get(e)!=="\\"||this._get(e+1)!==t?e++:e+=2}}if(e=this._position,this._get(e)==="`")for(e++;e<this._text.length;){if(this._text[e]==="`")return{type:"string",value:this._text.substring(this._position,e+1)};e++}return null}static _isKeyword(e){switch(e){case"and":case"as":case"else":case"for":case"if":case"import":case"in":case"is":case"not":case"or":return!0}return!1}},python.Error=class extends Error{constructor(e){super(e),this.name="Error loading Python module."}},typeof module!="undefined"&&typeof module.exports=="object"&&(module.exports.Parser=python.Parser);
