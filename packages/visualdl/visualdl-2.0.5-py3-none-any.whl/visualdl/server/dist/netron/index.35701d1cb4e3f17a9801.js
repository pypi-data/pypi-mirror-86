!function(v){function U(r){for(var h,c,p=r[0],f=r[1],a=r[2],u=0,d=[];u<p.length;u++)c=p[u],Object.prototype.hasOwnProperty.call(b,c)&&b[c]&&d.push(b[c][0]),b[c]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(v[h]=f[h]);for(o&&o(r);d.length;)d.shift()();return i.push.apply(i,a||[]),A()}function A(){for(var r,h=0;h<i.length;h++){for(var c=i[h],p=!0,f=1;f<c.length;f++){var a=c[f];b[a]!==0&&(p=!1)}p&&(i.splice(h--,1),r=e(e.s=c[0]))}return r}var l={},b={1:0},i=[];function e(r){if(l[r])return l[r].exports;var h=l[r]={i:r,l:!1,exports:{}};return v[r].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=v,e.c=l,e.d=function(r,h,c){e.o(r,h)||Object.defineProperty(r,h,{enumerable:!0,get:c})},e.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,h){if(1&h&&(r=e(r)),8&h)return r;if(4&h&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),2&h&&typeof r!="string")for(var p in r)e.d(c,p,function(f){return r[f]}.bind(null,p));return c},e.n=function(r){var h=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(h,"a",h),h},e.o=function(r,h){return Object.prototype.hasOwnProperty.call(r,h)},e.p="./";var t=window.webpackJsonp=window.webpackJsonp||[],s=t.push.bind(t);t.push=U,t=t.slice();for(var n=0;n<t.length;n++)U(t[n]);var o=s;i.push([150,0]),A()}({150:function(v,U,A){const l=A(151),b={BrowserHost:class{constructor(){window.eval=()=>{throw new Error("window.eval() not supported.")},this._document=window.document,this._meta={};for(const e of Array.from(this._document.getElementsByTagName("meta")))e.content&&(this._meta[e.name]=this._meta[e.name]||[],this._meta[e.name].push(e.content));this._type=this._meta.type?this._meta.type[0]:"Browser",this._version=this._meta.version?this._meta.version[0]:null,this._ready=!1}get document(){return this._document}get version(){return this._version}get type(){return this._type}initialize(e){return this._view=e,Promise.resolve()}start(){window.addEventListener("message",e=>{const t=e.data;if(t){const s=t.type,n=t.data;switch(s){case"change-files":return this._changeFiles(n);case"zoom-in":return this._view.zoomIn();case"zoom-out":return this._view.zoomOut();case"zoom-reset":return this._view.resetZoom();case"toggle-attributes":return this._view.toggleAttributes(n);case"toggle-initializers":return this._view.toggleInitializers(n);case"toggle-names":return this._view.toggleNames(n);case"toggle-direction":return this._view.toggleDirection(n);case"toggle-theme":return this._view.toggleTheme(n);case"export":return this._view.export(`${document.title}.${n}`);case"change-graph":return this._view.changeGraph(n);case"search":return this._view.find(n);case"select":return this._view.select(n);case"show-model-properties":return this._view.showModelProperties();case"show-node-documentation":return this._view.showNodeDocumentation(n);case"ready":return this._ready?this.status("ready"):void 0}}},!1),this._ready=!0,this.status("ready")}message(e,t){window.parent&&window.parent.postMessage({type:e,data:t},"*")}status(e){this.message("status",e)}error(e,t){this.message("error",(e==="Error"?"":e+" ")+t)}confirm(e,t){const s=confirm(e+" "+t);return s||this.message("cancel"),s}require(e){const t=this._url(e+".js");return window.__modules__=window.__modules__||{},window.__modules__[t]?Promise.resolve(window.__exports__[t]):new Promise((s,n)=>{window.module={exports:{}};const o=document.createElement("script");o.setAttribute("id",e),o.setAttribute("type","text/javascript"),o.setAttribute("src",t),o.onload=()=>{const r=window.module.exports;delete window.module,window.__modules__[e]=r,s(r)},o.onerror=r=>{delete window.module,n(new Error("The script '"+r.target.src+"' failed to load."))},this.document.head.appendChild(o)})}save(e,t,s,n){n(s+"."+t)}export(e,t){const s=this.document.createElement("a");s.download=e,s.href=URL.createObjectURL(t),this.document.body.appendChild(s),s.click(),this.document.body.removeChild(s)}request(e,t,s){const n=e?e+"/"+t:this._url(t);return this._request(n,null,s)}_changeFiles(e){if(e&&e.length){if(!(e=Array.from(e)).find(t=>this._view.accept(t.name)))return void this.error("Error opening file.","Cannot open file "+e[0].name);this._open(e.find(t=>this._view.accept(t.name)),e)}}_request(e,t,s,n){return new Promise((o,r)=>{const h=new XMLHttpRequest;s||(h.responseType="arraybuffer"),n&&(h.timeout=n);const c=p=>{const f=new Error("The web request failed with status code "+p+" at '"+e+"'.");return f.type="error",f.url=e,f};if(h.onload=()=>{h.status==200?h.responseType=="arraybuffer"?o(new Uint8Array(h.response)):o(h.responseText):r(c(h.status))},h.onerror=p=>{const f=c(h.status);f.type=p.type,r(f)},h.ontimeout=()=>{h.abort();const p=new Error("The web request timed out in '"+e+"'.");p.type="timeout",p.url=e,r(p)},h.open("GET",e,!0),t)for(const p of Object.keys(t))h.setRequestHeader(p,t[p]);h.send()})}_url(e){let t=e;if(window&&window.location&&window.location.href){let s=window.location.href.split("?").shift();s.endsWith(".html")&&(s=s.split("/").slice(0,-1).join("/")),s.endsWith("/")&&(s=s.slice(0,-1)),t=s+"/"+e}return t}_open(e,t){this.status("loading");const s=new i(e,t);s.open().then(()=>this._view.open(s).then(n=>(this._view.actived&&this.status("rendered"),this.document.title=t[0].name,n))).catch(n=>{this.error(n.name,n.message)})}}};if(typeof TextDecoder=="undefined"&&(TextDecoder=function(e){this._encoding=e},TextDecoder.prototype.decode=function(e){let t="";const s=e.length;let n=0;switch(this._encoding){case"utf-8":for(;n<s;){const o=e[n++];switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(o);break;case 12:case 13:{const r=e[n++];t+=String.fromCharCode((31&o)<<6|63&r);break}case 14:{const r=e[n++],h=e[n++];t+=String.fromCharCode((15&o)<<12|(63&r)<<6|(63&h)<<0);break}}}break;case"ascii":for(;n<s;)t+=String.fromCharCode(e[n++])}return t}),typeof TextEncoder=="undefined"){TextEncoder=function(){},TextEncoder.prototype.encode=function(e){"use strict";const t=e.length;let s=-1;const n=typeof Uint8Array=="undefined"?new Array(2*t):new Uint8Array(3*t);for(let o=0,r=0,h=0;h!==t;){if(o=e.charCodeAt(h),h+=1,o>=55296&&o<=56319){if(h===t){n[s+=1]=239,n[s+=1]=191,n[s+=1]=189;break}if(r=e.charCodeAt(h),!(r>=56320&&r<=57343)){n[s+=1]=239,n[s+=1]=191,n[s+=1]=189;continue}if(o=1024*(o-55296)+r-56320+65536,h+=1,o>65535){n[s+=1]=240|o>>>18,n[s+=1]=128|o>>>12&63,n[s+=1]=128|o>>>6&63,n[s+=1]=128|63&o;continue}}o<=127?n[s+=1]=0|o:o<=2047?(n[s+=1]=192|o>>>6,n[s+=1]=128|63&o):(n[s+=1]=224|o>>>12,n[s+=1]=128|o>>>6&63,n[s+=1]=128|63&o)}return typeof Uint8Array!="undefined"?new Uint8Array(n.buffer.slice(0,s+1)):n.length===s+1?n:n.slice(0,s+1)},TextEncoder.prototype.toString=function(){return"[object TextEncoder]"};try{Object.defineProperty(TextEncoder.prototype,"encoding",{get:function(){if(Object.prototype.isPrototypeOf.call(TextEncoder.prototype,this))return"utf-8";throw TypeError("Illegal invocation")}})}catch(e){TextEncoder.prototype.encoding="utf-8"}typeof Symbol!="undefined"&&(TextEncoder.prototype[Symbol.toStringTag]="TextEncoder")}typeof URLSearchParams=="undefined"&&(URLSearchParams=function(e){const t=s=>s.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,n=>decodeURIComponent(n));if(this._dict={},typeof e=="string"){const s=(e=e.indexOf("?")===0?e.substring(1):e).split("&");for(const n of s){const o=n.indexOf("="),r=t(o>-1?n.substring(0,o):n),h=o>-1?t(n.substring(o+1)):"";Object.prototype.hasOwnProperty.call(this._dict,r)||(this._dict[r]=[]),this._dict[r].push(h)}}},URLSearchParams.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this._dict,e)?this._dict[e][0]:null}),HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(e,t,s){setTimeout(()=>{const n=atob(this.toDataURL(t,s).split(",")[1]),o=n.length,r=new Uint8Array(o);for(let h=0;h<o;h++)r[h]=n.charCodeAt(h);e(new Blob([r],{type:t||"image/png"}))},0)});class i{constructor(e,t){this._file=e,this._blobs={};for(const s of t)this._blobs[s.name]=s}get identifier(){return this._file.name}get buffer(){return this._buffer}open(){return this.request(this._file.name,null).then(e=>{this._buffer=e})}request(e,t){const s=this._blobs[e];return s?new Promise((n,o)=>{const r=new FileReader;r.onload=h=>{n(t?h.target.result:new Uint8Array(h.target.result))},r.onerror=h=>{let c="";switch((h=h||window.event).target.error.code){case h.target.error.NOT_FOUND_ERR:c="File not found '"+e+"'.";break;case h.target.error.NOT_READABLE_ERR:c="File not readable '"+e+"'.";break;case h.target.error.SECURITY_ERR:c="File access denied '"+e+"'.";break;default:c="File read '"+h.target.error.code.toString()+"' error '"+e+"'."}o(new Error(c))},t==="utf-8"?r.readAsText(s,t):r.readAsArrayBuffer(s)}):Promise.reject(new Error("File not found '"+e+"'."))}}window.__view__=new l.View(new b.BrowserHost)},151:function(v,U,A){const l=A(34),b=A(175),i=A(176),e=A(62),t=A(358),s=A(96),n=A(351),o=A(352),r={View:class{constructor(a){this._host=a,this._host.initialize(this).then(()=>{this._model=null,this._selection=[],this._host.start(),this._showAttributes=!1,this._showInitializers=!0,this._showNames=!1,this._showHorizontal=!1,this._modelFactoryService=new r.ModelFactoryService(this._host)}).catch(u=>{this.error(u.message,u)})}cut(){this._host.document.execCommand("cut")}copy(){this._host.document.execCommand("copy")}paste(){this._host.document.execCommand("paste")}selectAll(){this._host.document.execCommand("selectall")}find(a){if(this._activeGraph){this.clearSelection();const u=document.getElementById("canvas"),d=new o.FindSidebar(this._host,u,this._activeGraph);this._host.message("search",d.update(a))}}toggleAttributes(a){(a==null||a^this._showAttributes)&&(this._showAttributes=a==null?!this._showAttributes:a,this._reload())}get showAttributes(){return this._showAttributes}toggleInitializers(a){(a==null||a^this._showInitializers)&&(this._showInitializers=a==null?!this._showInitializers:a,this._reload())}get showInitializers(){return this._showInitializers}toggleNames(a){(a==null||a^this._showNames)&&(this._showNames=a==null?!this._showNames:a,this._reload())}get showNames(){return this._showNames}toggleDirection(a){(a==null||a^this._showHorizontal)&&(this._showHorizontal=a==null?!this._showHorizontal:a,this._reload())}get showHorizontal(){return this._showHorizontal}toggleTheme(a){this._host.document.body.className=a}_reload(){this._host.status("loading"),this._model&&this._activeGraph&&this._updateGraph(this._model,this._activeGraph).catch(a=>{a&&this.error("Graph update failed.",a)})}_timeout(a){return new Promise(u=>{setTimeout(()=>{u()},a)})}zoomIn(){this._zoom&&this._zoom.scaleBy(t.select(this._host.document.getElementById("canvas")),1.2)}zoomOut(){this._zoom&&this._zoom.scaleBy(t.select(this._host.document.getElementById("canvas")),.8)}resetZoom(){this._zoom&&this._zoom.scaleTo(t.select(this._host.document.getElementById("canvas")),1)}select(a){this.clearSelection();const u=document.getElementById("canvas"),d=o.FindSidebar.selection(a,u);if(d&&d.length>0){const m=this._host.document.getElementById("canvas"),g=m.getBoundingClientRect();let _=0,w=0;for(const y of d){y.classList.add("select"),this._selection.push(y);const P=y.transform.baseVal.consolidate(),S=y.getBBox(),z=P?P.matrix.e:S.x+S.width/2,L=P?P.matrix.f:S.y+S.height/2;_+=z,w+=L}_/=d.length,w/=d.length,this._zoom.transform(t.select(m),t.zoomIdentity.translate(g.width/2-_,g.height/2-w))}}clearSelection(){for(;this._selection.length>0;)this._selection.pop().classList.remove("select")}error(a,u){this._host.error(a,u.toString())}accept(a){return this._modelFactoryService.accept(a)}open(a){return this._timeout(2).then(()=>this._modelFactoryService.open(a).then(u=>this._timeout(20).then(()=>{const d=u.graphs.length>0?u.graphs[0]:null;return this._host.message("opened",{graphs:u.graphs.map(m=>m.name||""),selected:d&&(d.name||"")}),this._updateGraph(u,d)})))}changeGraph(a){this._updateActiveGraph(a)}_updateActiveGraph(a){if(this._model){const u=this._model,d=u.graphs.filter(m=>a==m.name).shift();d&&(this._host.status("loading"),this._timeout(200).then(()=>this._updateGraph(u,d).catch(m=>{m&&this.error("Graph update failed.",m)})))}}_updateGraph(a,u){return this._timeout(100).then(()=>u&&u!=this._activeGraph&&(u.nodes.length>1400&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?"))?null:this.renderGraph(a,u).then(()=>(this._model=a,this._activeGraph=u,this._host.status("rendered"),this._model)).catch(d=>this.renderGraph(this._model,this._activeGraph).then(()=>{throw this._host.status("rendered"),d}).catch(()=>{throw d})))}renderGraph(a,u){try{const d=this._host.document.getElementById("canvas");for(;d.lastChild;)d.removeChild(d.lastChild);if(u){this._zoom=null,d.style.position="absolute",d.style.margin="0";const m=u.groups,g={nodesep:25,ranksep:20};this._showHorizontal&&(g.rankdir="LR");const _=new s.graphlib.Graph({compound:m});_.setGraph(g),_.setDefaultEdgeLabel(()=>({}));let w=0;const y={},P={},S={};let z=new Date().getTime();const L=u.nodes;if(L.length>1500&&(g.ranker="longest-path"),m){for(const k of L)if(k.group){const T=k.group.split("/");for(;T.length>0;){const N=T.join("/");T.pop(),S[N]=T.join("/")}}}for(const k of L){const T=new n.NodeElement(this._host.document),N=(x,E,Z)=>{const H=x.block("header"),G=["node-item-type"],J=E.metadata,X=J&&J.category?J.category:"";X&&G.push("node-item-type-"+X.toLowerCase());const W=E.type;if(typeof W!="string"||!W.split)throw new h("Unknown node type '"+JSON.stringify(W)+"' in '"+a.format+"'.");const tt=this.showNames&&E.name?E.name:W.split(".").pop(),et=this.showNames&&E.name?W:E.name;H.add(null,G,tt,et,()=>{this.showNodeProperties(E)}),E.function&&H.add(null,["node-item-function"],"+",null,()=>{});const $=[];let Y=!1;if(this._showInitializers)for(const B of E.inputs)B.visible&&B.arguments.length==1&&B.arguments[0].initializer!=null&&$.push(B),(!B.visible||B.arguments.length>1)&&B.arguments.some(M=>M.initializer!=null)&&(Y=!0);let q=[];const K=E.attributes;if(this.showAttributes&&K&&(q=K.filter(B=>B.visible).slice(),q.sort((B,M)=>{const I=B.name.toUpperCase(),j=M.name.toUpperCase();return I<j?-1:I>j?1:0})),$.length>0||Y||q.length>0){const B=x.block("list");B.handler=()=>{this.showNodeProperties(E)};for(const M of $){const I=M.arguments[0],j=I.type;let R="",Q="";j&&j.shape&&j.shape.dimensions&&Object.prototype.hasOwnProperty.call(j.shape.dimensions,"length")&&(R="〈"+j.shape.dimensions.map(it=>it||"?").join("×")+"〉",j.shape.dimensions.length==0&&I.initializer&&!I.initializer.state&&(R=I.initializer.toString(),R&&R.length>10&&(R=R.substring(0,10)+"…"),Q=" = ")),B.add("initializer-"+I.name,M.name,R,j?j.toString():"",Q)}Y&&B.add(null,"〈…〉","",null,"");for(const M of q)if(M.visible){let I=o.NodeSidebar.formatAttributeValue(M.value,M.type);I&&I.length>25&&(I=I.substring(0,25)+"…"),B.add(null,M.name,I,M.type," = ")}}if(Z){const B=E.inputs;for(const I of B)for(const j of I.arguments)if(j.name!=""&&!j.initializer){let R=y[j.name];R||(R={from:null,to:[]},y[j.name]=R),R.to.push({node:w,name:I.name})}let M=E.outputs;if(E.chain&&E.chain.length>0){const I=E.chain[E.chain.length-1].outputs;I.length>0&&(M=I)}for(const I of M)for(const j of I.arguments)if(j.name!=""){let R=y[j.name];R||(R={from:null,to:[]},y[j.name]=R),R.from={node:w,name:I.name,type:j.type}}}if(E.chain&&E.chain.length>0)for(const B of E.chain)N(x,B,!1);E.inner&&N(x,E.inner,!1)};if(N(T,k,!0),k.controlDependencies&&k.controlDependencies.length>0)for(const x of k.controlDependencies){let E=y[x];E||(E={from:null,to:[]},y[x]=E),E.to.push({node:w,name:x,controlDependency:!0})}const V=k.name;V?_.setNode(w,{label:T.format(d),id:"node-"+V}):(_.setNode(w,{label:T.format(d),id:"node-"+z.toString()}),z++);const C=function(x){if(!P[x]){_.setNode(x,{rx:5,ry:5}),P[x]=!0;const E=S[x];E&&(C(E),_.setParent(x,E))}};if(m){let x=k.group;if(x&&x.length>0){if(!Object.prototype.hasOwnProperty.call(S,x)){const E=x.lastIndexOf("/");E!=-1?(x=x.substring(0,E),Object.prototype.hasOwnProperty.call(S,x)||(x=null)):x=null}x&&(C(x),_.setParent(w,x))}}w++}for(const k of u.inputs){for(const C of k.arguments){let x=y[C.name];x||(x={from:null,to:[]},y[C.name]=x),x.from={node:w,type:C.type}}const T=k.arguments.map(C=>C.type||"").join(`
`);let N=k.name||"";N.length>16&&(N=N.split("/").pop());const V=new n.NodeElement(this._host.document);V.block("header").add(null,["graph-item-input"],N,T,()=>{this.showModelProperties()}),_.setNode(w++,{label:V.format(d),class:"graph-input"})}for(const k of u.outputs){for(const C of k.arguments){let x=y[C.name];x||(x={from:null,to:[]},y[C.name]=x),x.to.push({node:w})}const T=k.arguments.map(C=>C.type||"").join(`
`);let N=k.name||"";N.length>16&&(N=N.split("/").pop());const V=new n.NodeElement(this._host.document);V.block("header").add(null,["graph-item-output"],N,T,()=>{this.showModelProperties()}),_.setNode(w++,{label:V.format(d)})}for(const k of Object.keys(y)){const T=y[k];if(T.from!=null)for(const N of T.to){let V="";const C=T.from.type;C&&C.shape&&C.shape.dimensions&&C.shape.dimensions.length>0&&(V=C.shape.dimensions.join("×")),this._showNames&&(V=k.split(`
`).shift()),N.controlDependency?_.setEdge(T.from.node,N.node,{label:V,id:"edge-"+k,arrowhead:"vee",class:"edge-path-control-dependency"}):_.setEdge(T.from.node,N.node,{label:V,id:"edge-"+k,arrowhead:"vee"})}}const O=this._host.document.createElementNS("http://www.w3.org/2000/svg","rect");O.setAttribute("id","background"),O.setAttribute("width","100%"),O.setAttribute("height","100%"),O.setAttribute("fill","none"),O.setAttribute("pointer-events","all"),d.appendChild(O);const D=this._host.document.createElementNS("http://www.w3.org/2000/svg","g");D.setAttribute("id","origin"),d.appendChild(D);let F=null;return F=t.select(d),this._zoom=t.zoom(),this._zoom(F),this._zoom.scaleExtent([.1,2]),this._zoom.on("zoom",()=>{D.setAttribute("transform",t.event.transform.toString())}),this._zoom.transform(F,t.zoomIdentity),this._timeout(20).then(()=>{new n.Renderer(this._host.document,D).render(_);const k=d.getElementsByClassName("graph-input"),T=d.getBoundingClientRect();if(k&&k.length>0){const N=[],V=[];for(let H=0;H<k.length;H++){const G=k[H].transform.baseVal.consolidate().matrix;N.push(G.e),V.push(G.f)}let C=N[0];const x=V[0];V.every(H=>H==V[0])&&(C=N.reduce((H,G)=>H+G)/N.length);const E=T.width/(this._showHorizontal?4:2)-C,Z=T.height/(this._showHorizontal?2:4)-x;this._zoom.transform(F,t.zoomIdentity.translate(E,Z))}else this._zoom.transform(F,t.zoomIdentity.translate((T.width-_.graph().width)/2,(T.height-_.graph().height)/2))})}return Promise.resolve()}catch(d){return Promise.reject(d)}}applyStyleSheet(a,u){let d=[];for(let g=0;g<this._host.document.styleSheets.length;g++){const _=this._host.document.styleSheets[g];if(_&&_.href&&_.href.endsWith("/"+u)){d=_.cssRules;break}}const m=a.getElementsByTagName("*");for(let g=0;g<m.length;g++){const _=m[g];for(let w=0;w<d.length;w++){const y=d[w];if(_.matches(y.selectorText))for(let P=0;P<y.style.length;P++){const S=y.style.item(P);_.style[S]=y.style[S]}}}}export(a){const u=a.lastIndexOf("."),d=u!=-1?a.substring(u+1):"";if(this._activeGraph&&(d=="png"||d=="svg")){const m=this._host.document.getElementById("canvas"),g=m.cloneNode(!0);this.applyStyleSheet(g,"style.css"),g.setAttribute("id","export"),g.removeAttribute("width"),g.removeAttribute("height"),g.style.removeProperty("opacity"),g.style.removeProperty("display");const _=g.querySelector("#background"),w=g.querySelector("#origin");w.setAttribute("transform","translate(0,0) scale(1)"),_.removeAttribute("width"),_.removeAttribute("height");const y=m.parentElement;y.insertBefore(g,m);const P=g.getBBox();y.removeChild(g),y.removeChild(m),y.appendChild(m);const S=Math.min(P.width,P.height)/2*.1,z=Math.ceil(S+P.width+S),L=Math.ceil(S+P.height+S);w.setAttribute("transform","translate("+S.toString()+", "+S.toString()+") scale(1)"),g.setAttribute("width",z),g.setAttribute("height",L),_.setAttribute("width",z),_.setAttribute("height",L),_.setAttribute("fill","#fff");const O=new XMLSerializer().serializeToString(g);if(d==="svg"){const D=new Blob([O],{type:"image/svg"});this._host.export(a,D)}else if(d==="png"){const D=new Image;D.onload=()=>{const F=Math.max(z,L),k=2*F>24e3?24e3/F:2,T=this._host.document.createElement("canvas");T.width=Math.ceil(z*k),T.height=Math.ceil(L*k);const N=T.getContext("2d");N.scale(k,k),N.drawImage(D,0,0),this._host.document.body.removeChild(D),T.toBlob(V=>{if(V)this._host.export(a,V);else{const C=new Error;C.name="Error exporting image.",C.message="Image may be too large to render as PNG.",this._host.exception(C,!1),this._host.error(C.name,C.message)}},"image/png")},D.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(O))),this._host.document.body.insertBefore(D,this._host.document.body.firstChild)}}}showModelProperties(){if(this._model){const a=new o.ModelSidebar(this._host,this._model,this._activeGraph);this._host.message("show-model-properties",a.render())}}showNodeProperties(a){if(a){const u=new o.NodeSidebar(this._host,a);this._host.message("show-node-properties",{...u.render(),metadata:a.metadata})}}showNodeDocumentation(a){const u=a.metadata;if(u){const d=new o.DocumentationSidebar(this._host,u);this._host.message("show-node-documentation",d.render())}}}};class h extends Error{constructor(a,u){super(a),this.name="Error loading model.",this.telemetry=u}}class c{constructor(a){this._context=a,this._tags=new Map,this._entries=new Map}request(a,u){return this._context.request(a,u)}get identifier(){return this._context.identifier}get buffer(){return this._context.buffer}get text(){return this._text||(this._text=new TextDecoder("utf-8").decode(this.buffer)),this._text}entries(a){let u=this._entries.get(a);if(!u){u=[];try{const d=this.buffer;switch(a){case"zip":d&&d.length>2&&d[0]==80&&d[1]==75&&(u=new l.Archive(d).entries);break;case"tar":if(d.length>=512){let m=0;for(let _=0;_<512;_++)m+=_>=148&&_<156?32:d[_];let g="";for(let _=148;_<156&&d[_]!==0;_++)g+=String.fromCharCode(d[_]);g=parseInt(g,8),isNaN(g)||m!=g||(u=new i.Archive(d).entries)}}}catch(d){u=[]}this._entries.set(a,u)}return u}tags(a){let u=this._tags.get(a);if(!u){u=new Map;try{switch(a){case"pbtxt":{const d=this.buffer,m=d.length;if(!(m>=3&&d[0]===239&&d[1]===187&&d[2]===191||m>=4&&d[0]===0&&d[1]===0&&d[2]===254&&d[3]===255||m>=4&&d[0]===255&&d[1]===254&&d[2]===0&&d[3]===0||m>=4&&d[0]===132&&d[1]===49&&d[2]===149&&d[3]===51||m>=2&&d[0]===254&&d[1]===255||m>=2&&d[0]===255&&d[1]===254)&&d.subarray(0,Math.min(1024,m)).some(_=>_<7||_>14&&_<32))break;const g=e.TextReader.create(this.text);for(g.start(!1);!g.end(!1);){const _=g.tag();u.set(_,!0),g.skip()}break}case"pb":{const d=new Set([0,1,2,3,5]),m=e.Reader.create(this.buffer),g=m.next();for(;m.pos<g;){const _=m.uint32();if(u.set(_>>>3,7&_),!d.has(7&_)){u=new Map;break}try{m.skipType(7&_)}catch(w){u=new Map;break}}break}}}catch(d){u=new Map}this._tags.set(a,u)}return u}}class p{constructor(a,u,d,m){if(this._entries={},a){for(const g of a)if(g.name.startsWith(u)){const _=g.name.substring(u.length);d.length>0&&d.indexOf("/")<0&&(this._entries[_]=g)}}this._identifier=d.substring(u.length),this._buffer=m}request(a,u){const d=this._entries[a];if(!d)return Promise.reject(new Error("File not found."));const m=u?new TextDecoder(u).decode(d.data):d.data;return Promise.resolve(m)}get identifier(){return this._identifier}get buffer(){return this._buffer}}class f extends Error{constructor(a){super(a),this.name="Error loading archive."}}r.ModelFactoryService=class{constructor(a){this._host=a,this._extensions=[],this.register("./onnx",[".onnx",".pb",".pbtxt",".prototxt"]),this.register("./mxnet",[".mar",".model",".json",".params"]),this.register("./keras",[".h5",".hd5",".hdf5",".keras",".json",".model",".pb",".pth"]),this.register("./coreml",[".mlmodel"]),this.register("./caffe",[".caffemodel",".pbtxt",".prototxt",".pt"]),this.register("./caffe2",[".pb",".pbtxt",".prototxt"]),this.register("./pytorch",[".pt",".pth",".pt1",".pkl",".h5",".t7",".model",".dms",".tar",".ckpt",".bin",".pb",".zip"]),this.register("./torch",[".t7"]),this.register("./tflite",[".tflite",".lite",".tfl",".bin",".pb",".tmfile",".h5",".model",".json"]),this.register("./tf",[".pb",".meta",".pbtxt",".prototxt",".json",".index",".ckpt"]),this.register("./mediapipe",[".pbtxt"]),this.register("./uff",[".uff",".pb",".trt",".pbtxt",".uff.txt"]),this.register("./sklearn",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5"]),this.register("./cntk",[".model",".cntk",".cmf",".dnn"]),this.register("./paddle",[".paddle",".pdmodel","__model__"]),this.register("./armnn",[".armnn"]),this.register("./bigdl",[".model",".bigdl"]),this.register("./darknet",[".cfg",".model"]),this.register("./mnn",[".mnn"]),this.register("./ncnn",[".param",".bin",".cfg.ncnn",".weights.ncnn"]),this.register("./tnn",[".tnnproto",".tnnmodel"]),this.register("./tengine",[".tmfile"]),this.register("./barracuda",[".nn"]),this.register("./openvino",[".xml",".bin"]),this.register("./flux",[".bson"]),this.register("./npz",[".npz",".h5",".hd5",".hdf5"]),this.register("./dl4j",[".zip"]),this.register("./mlnet",[".zip"])}register(a,u){for(const d of u)this._extensions.push({extension:d,id:a})}open(a){return this._openSignature(a).then(u=>this._openArchive(u).then(d=>{const m=(d=new c(d)).identifier,g=m.split(".").pop().toLowerCase(),_=this._filter(d);if(_.length==0)throw new h("Unsupported file extension '."+g+"'.");const w=[];let y=!1;const P=()=>{if(_.length>0){const S=_.shift();return this._host.require(S).then(z=>{if(!z.ModelFactory)throw new h("Failed to load module '"+S+"'.");const L=new z.ModelFactory;return L.match(d)?(y++,L.open(d,this._host).then(O=>O).catch(O=>(w.push(O),P()))):P()})}{if(y)throw w.length==1?w[0]:new h(w.map(O=>O.message).join(`
`));const S=new Set(["natives_blob.bin","v8_context_snapshot.bin","snapshot_blob.bin","image_net_labels.json","package.json","models.json","LICENSE.meta","input_0.pb","output_0.pb"]).has(m),z=d.buffer,L=Array.from(z.subarray(0,Math.min(16,z.length))).map(O=>(O<16?"0":"")+O.toString(16)).join("");throw new h("Unsupported file content ("+L+") for extension '."+g+"' in '"+m+"'.",!S)}};return P()}))}_openArchive(a){let u,d=null,m=a.identifier,g=a.buffer;try{if(u=m.split(".").pop().toLowerCase(),(u=="gz"||u=="tgz")&&(d=new b.Archive(g),d.entries.length==1)){const _=d.entries[0];_.name?m=_.name:(m=m.substring(0,m.lastIndexOf(".")),u=="tgz"&&(m+=".tar")),g=_.data}}catch(_){const w=_&&_.message?_.message:_.toString();return Promise.reject(new f(w.replace(/\.$/,"")+" in '"+m+"'."))}try{switch(u=m.split(".").pop().toLowerCase(),u){case"tar":{const _=[138,10,108,252,156,70,249,32,106,168,80,25];(!g||g.length<14||g[0]!=128||!_.every((w,y)=>w==g[y+2]))&&(d=new i.Archive(g));break}case"zip":if(d=new l.Archive(g),d.entries.some(_=>_.name.split("/").pop().split("\\").pop()==="version")&&d.entries.some(_=>_.name.split("/").pop().split("\\").pop()==="data.pkl"))return Promise.resolve(a);if(d.entries.some(_=>_.name.split("/").pop().split("\\").pop()==="coefficients.bin")&&d.entries.some(_=>_.name.split("/").pop().split("\\").pop()==="configuration.json"))return Promise.resolve(a)}}catch(_){const w=_&&_.message?_.message:_.toString();return Promise.reject(new f(w.replace(/\.$/,"")+" in '"+m+"'."))}if(!d)return Promise.resolve(a);try{const _={};for(const z of d.entries)z.name.indexOf("/")!=-1?_[z.name.split("/").shift()+"/"]=!0:_["/"]=!0;u=="tar"&&delete _["PaxHeader/"];let w=Object.keys(_).length==1?Object.keys(_)[0]:"";w=w=="/"?"":w;let y=[];const P=d.entries.slice(),S=()=>{if(P.length>0){const z=P.shift();if(z.name.startsWith(w)){const L=z.name.substring(w.length);if(L.length>0&&L.indexOf("/")<0&&!L.startsWith(".")){const O=new c(new p(null,w,z.name,z.data));let D=this._filter(O);const F=()=>{if(D.length>0){const k=D.shift();return this._host.require(k).then(T=>{if(!T.ModelFactory)throw new f("Failed to load module '"+k+"'.",null);return new T.ModelFactory().match(O)&&(y.push(z),D=[]),F()})}return S()};return F()}}return S()}{if(y.length==0)return Promise.resolve(a);if(y.length==2&&y.some(L=>L.name.endsWith(".params"))&&y.some(L=>L.name.endsWith("-symbol.json"))&&(y=y.filter(L=>L.name.endsWith(".params"))),y.length>1)return Promise.reject(new f("Archive contains multiple model files."));const z=y[0];return Promise.resolve(new c(new p(d.entries,w,z.name,z.data)))}};return S()}catch(_){return Promise.reject(new f(_.message))}}accept(a){a=a.toLowerCase();for(const u of this._extensions)if(a.endsWith(u.extension))return!0;return!!(a.endsWith(".zip")||a.endsWith(".tar")||a.endsWith(".tar.gz")||a.endsWith(".tgz"))}_filter(a){const u=a.identifier.toLowerCase(),d=this._extensions.filter(m=>u.endsWith(m.extension)).map(m=>m.id);return Array.from(new Set(d))}_openSignature(a){const u=a.buffer;if(a.buffer.length===0)return Promise.reject(new h("File has no content.",!0));const d=[{name:"ELF executable",value:/^\x7FELF/},{name:"Git LFS header",value:/^version https:\/\/git-lfs.github.com\/spec\/v1\n/},{name:"Git LFS header",value:/^oid sha256:/},{name:"HTML markup",value:/^\s*<html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE HTML>/},{name:"Unity metadata",value:/^fileFormatVersion:/},{name:"Vulkan SwiftShader ICD manifest",value:/^{\s*"file_format_version":\s*"1.0.0"\s*,\s*"ICD":/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*id:/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*name:/},{name:"Python source code",value:/^\s*import sys, types, os;/}],m=new TextDecoder().decode(u.subarray(0,Math.min(1024,u.length)));for(const g of d)if(m.match(g.value))return Promise.reject(new h("Invalid file content. File contains "+g.name+".",!0));return Promise.resolve(a)}},typeof v.exports=="object"&&(v.exports.View=r.View,v.exports.ModelFactoryService=r.ModelFactoryService)},175:function(v,U,A){(function(l,b){var i=i||{};i.Archive=class{constructor(e){if(this._entries=[],e.length<18||e[0]!=31||e[1]!=139)throw new i.Error("Invalid gzip archive.");const t=new i.Reader(e,0,e.length);this._entries.push(new i.Entry(t))}get entries(){return this._entries}},i.Entry=class{constructor(e){if(!e.match([31,139]))throw new i.Error("Invalid gzip signature.");const t=e.byte();if(t!=8)throw new i.Error("Invalid compression method '"+t.toString()+"'.");const s=e.byte();if(e.uint32(),e.byte(),e.byte(),(4&s)!=0){const o=e.uint16();e.skip(o)}(8&s)!=0&&(this._name=e.string()),(16&s)!=0&&e.string(),(1&s)!=0&&e.uint16();const n=e.bytes();if(typeof l=="object"&&typeof l.versions=="object"&&l.versions.node!==void 0?this._data=A(26).inflateRawSync(n):this._data=b!==void 0?b.inflateRaw(n):new A(34).Inflater().inflateRaw(n),e.position=-8,e.uint32(),e.uint32()!=this._data.length)throw new i.Error("Invalid size.")}get name(){return this._name}get data(){return this._data}},i.Reader=class{constructor(e,t,s){this._buffer=e,this._position=t,this._end=s}match(e){if(this._position+e.length<=this._end){for(let t=0;t<e.length;t++)if(this._buffer[this._position+t]!=e[t])return!1}return this._position+=e.length,!0}get position(){return this._position}set position(e){this._position=e>=0?e:this._end+e}skip(e){if(this._position+e>this._end)throw new i.Error("Data not available.");this._position+=e}bytes(e){if(this._position+e>this._end)throw new i.Error("Data not available.");e=e===void 0?this._end:e;const t=this._buffer.subarray(this._position,this._position+e);return this._position+=e,t}byte(){if(this._position+1>this._end)throw new i.Error("Data not available.");const e=this._buffer[this._position];return this._position++,e}uint16(){if(this._position+2>this._end)throw new i.Error("Data not available.");const e=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,e}uint32(){return this.uint16()|this.uint16()<<16}string(){let e="";const t=this._buffer.indexOf(0,this._position);if(t<0)throw new i.Error("End of string not found.");for(;this._position<t;)e+=String.fromCharCode(this._buffer[this._position++]);return this._position++,e}},i.Error=class extends Error{constructor(e){super(e),this.name="Gzip Error"}},typeof v.exports=="object"&&(v.exports.Archive=i.Archive)}).call(this,A(7),A(54))},176:function(v,U,A){var l=l||{};l.Archive=class{constructor(b){this._entries=[];const i=new l.Reader(b,0,b.length);for(;i.peek()&&(this._entries.push(new l.Entry(i)),!i.match(512,0)););}get entries(){return this._entries}},l.Entry=class{constructor(b){const i=b.bytes(512);b.skip(-512);let e=0;for(let n=0;n<i.length;n++)e+=n>=148&&n<156?32:i[n];this._name=b.string(100),b.string(8),b.string(8),b.string(8);const t=parseInt(b.string(12).trim(),8);b.string(12);const s=parseInt(b.string(8).trim(),8);if(isNaN(s)||e!=s)throw new l.Error("Invalid tar archive.");b.string(1),b.string(100),b.bytes(255),this._data=b.bytes(t),b.bytes(t%512!=0?512-t%512:0)}get name(){return this._name}get data(){return this._data}},l.Reader=class{constructor(b){this._buffer=b,this._position=0,this._end=b.length}skip(b){if(this._position+=b,this._position>this._buffer.length)throw new l.Error("Expected "+(this._position-this._buffer.length)+" more bytes. The file might be corrupted. Unexpected end of file.")}peek(){return this._position<this._end}match(b,i){return!!(this._position+b<=this._end&&this._buffer.subarray(this._position,this._position+b).every(e=>e==i))&&(this._position+=b,!0)}bytes(b){const i=this._position;return this.skip(b),this._buffer.subarray(i,this._position)}string(b){const i=this.bytes(b);let e=0,t="";for(let s=0;s<b;s++){const n=i[e++];if(n==0)break;t+=String.fromCharCode(n)}return t}},l.Error=class extends Error{constructor(b){super(b),this.name="tar Error"}},typeof v.exports=="object"&&(v.exports.Archive=l.Archive)},34:function(v,U,A){(function(l,b){var i=i||{};i.Archive=class{constructor(e){if(this._entries=[],e.length<4||e[0]!=80||e[1]!=75)throw new i.Error("Invalid Zip archive.");let t=null;for(let s=e.length-4;s>=0;s--)if(e[s]===80&&e[s+1]===75&&e[s+2]===5&&e[s+3]===6){t=new i.Reader(e,s+4,e.length);break}if(!t)throw new i.Error("End of central directory not found.");for(t.skip(12),t.position=t.uint32();t.match([80,75,1,2]);)this._entries.push(new i.Entry(t))}get entries(){return this._entries}},i.Entry=class{constructor(e){if(e.uint16(),e.skip(2),this._flags=e.uint16(),(1&this._flags)==1)throw new i.Error("Encrypted entries not supported.");this._compressionMethod=e.uint16(),e.uint32(),e.uint32(),this._compressedSize=e.uint32(),this._size=e.uint32();let t=e.uint16(),s=e.uint16();const n=e.uint16();e.uint16(),e.uint16(),e.uint32();const o=e.uint32();e.skip(t),e.skip(s),e.bytes(n);const r=e.position;if(e.position=o,!e.match([80,75,3,4]))throw new i.Error("Invalid local file header signature.");e.skip(22),t=e.uint16(),s=e.uint16();const h=e.bytes(t);this._name="";for(const c of h)this._name+=String.fromCharCode(c);e.skip(s),this._compressedData=e.bytes(this._compressedSize),e.position=r}get name(){return this._name}get data(){if(!this._data){switch(this._compressionMethod){case 0:if(this._size!=this._compressedSize)throw new i.Error("Invalid compression size.");this._data=new Uint8Array(this._compressedData.length),this._data.set(this._compressedData);break;case 8:if(this._data=new i.Inflater().inflateRaw(this._compressedData),this._size!=this._data.length)throw new i.Error("Invalid uncompressed size.");break;default:throw new i.Error("Invalid compression method.")}delete this._size,delete this._compressedData}return this._data}},i.HuffmanTree=class{constructor(){this.table=new Uint16Array(16),this.symbol=new Uint16Array(288),i.HuffmanTree._offsets=i.HuffmanTree._offsets||new Uint16Array(16)}build(e,t,s){for(let o=0;o<16;++o)this.table[o]=0;for(let o=0;o<s;++o)this.table[e[t+o]]++;this.table[0]=0;let n=0;for(let o=0;o<16;o++)i.HuffmanTree._offsets[o]=n,n+=this.table[o];for(let o=0;o<s;o++)e[t+o]&&(this.symbol[i.HuffmanTree._offsets[e[t+o]]++]=o)}static initialize(){if(!i.HuffmanTree.staticLiteralLengthTree){i.HuffmanTree.staticLiteralLengthTree=new i.HuffmanTree,i.HuffmanTree.staticLiteralLengthTree.table=new Uint8Array([0,0,0,0,0,0,0,24,152,112,0,0,0,0,0,0]);for(let e=0;e<24;++e)i.HuffmanTree.staticLiteralLengthTree.symbol[e]=256+e;for(let e=0;e<144;++e)i.HuffmanTree.staticLiteralLengthTree.symbol[24+e]=e;for(let e=0;e<8;++e)i.HuffmanTree.staticLiteralLengthTree.symbol[168+e]=280+e;for(let e=0;e<112;++e)i.HuffmanTree.staticLiteralLengthTree.symbol[176+e]=144+e;i.HuffmanTree.staticDistanceTree=new i.HuffmanTree,i.HuffmanTree.staticDistanceTree.table=new Uint8Array([0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0]),i.HuffmanTree.staticDistanceTree.symbol=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])}}},i.Inflater=class{inflate(e){if(typeof l=="object"&&typeof l.versions=="object"&&l.versions.node!==void 0)return A(26).inflateSync(e);if(b!==void 0)return b.inflate(e);throw new i.Error("zlib inflate not supported.")}inflateRaw(e){if(typeof l=="object"&&typeof l.versions=="object"&&l.versions.node!==void 0)return A(26).inflateRawSync(e);if(b!==void 0)return b.inflateRaw(e);i.Inflater.initilize(),i.HuffmanTree.initialize();const t=new i.BitReader(e),s=new i.Ouptut,n=new i.HuffmanTree,o=new i.HuffmanTree;let r;do switch(r=t.bits(3),r>>>1){case 0:this._inflateUncompressedBlock(t,s);break;case 1:this._inflateBlockData(t,s,i.HuffmanTree.staticLiteralLengthTree,i.HuffmanTree.staticDistanceTree);break;case 2:this._decodeTrees(t,n,o),this._inflateBlockData(t,s,n,o);break;default:throw new i.Error("Unknown block type.")}while((1&r)==0);return s.merge()}_inflateUncompressedBlock(e,t){for(;e.data>8;)e.position--,e.data-=8;e.data=0;const s=e.uint16();if(s!==(65535&~e.uint16()))throw new i.Error("Invalid uncompressed block length.");const n=e.bytes(s);t.push(n),s>32768?(t.buffer.set(n.subarray(n.length-32768,n.length),0),t.position=32768):(t.reset(),t.buffer.set(n,t.position),t.position+=n.length)}_decodeTrees(e,t,s){const n=e.bits(5)+257,o=e.bits(5)+1,r=e.bits(4)+4;for(let c=0;c<19;c++)i.Inflater._lengths[c]=0;for(let c=0;c<r;c++)i.Inflater._lengths[i.Inflater._codeOrder[c]]=e.bits(3);let h;i.Inflater._codeTree.build(i.Inflater._lengths,0,19);for(let c=0;c<n+o;){const p=e.symbol(i.Inflater._codeTree);switch(p){case 16:{const f=i.Inflater._lengths[c-1];for(h=e.bits(2)+3;h;h--)i.Inflater._lengths[c++]=f;break}case 17:for(h=e.bits(3)+3;h;h--)i.Inflater._lengths[c++]=0;break;case 18:for(h=e.bits(7)+11;h;h--)i.Inflater._lengths[c++]=0;break;default:i.Inflater._lengths[c++]=p}}t.build(i.Inflater._lengths,0,n),s.build(i.Inflater._lengths,n,o)}_inflateBlockData(e,t,s,n){const o=t.buffer;let r=t.position,h=r;for(;;){r>62464&&(t.position=r,t.push(new Uint8Array(o.subarray(h,r))),r=t.reset(),h=r);let c=e.symbol(s);if(c===256)return t.position=r,t.push(new Uint8Array(o.subarray(h,t.position))),void t.reset();if(c<256)o[r++]=c;else{c-=257;const p=e.bitsBase(i.Inflater._lengthBits[c],i.Inflater._lengthBase[c]),f=e.symbol(n);let a=r-e.bitsBase(i.Inflater._distanceBits[f],i.Inflater._distanceBase[f]);for(let u=0;u<p;u++)o[r++]=o[a++]}}}static initilize(){i.HuffmanTree.staticLiteralLengthTree||(i.Inflater._codeOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.Inflater._codeTree=new i.HuffmanTree,i.Inflater._lengths=new Uint8Array(320),i.Inflater._lengthBits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,6],i.Inflater._lengthBase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,323],i.Inflater._distanceBits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],i.Inflater._distanceBase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577])}},i.Ouptut=class{constructor(){this._blocks=[],this.buffer=new Uint8Array(65536),this.position=0}reset(){return this.position>32768&&(this.buffer.set(this.buffer.subarray(this.position-32768,this.position),0),this.position=32768),this.position}push(e){this._blocks.push(e)}merge(){let e=0;for(const n of this._blocks)e+=n.length;const t=new Uint8Array(e);let s=0;for(const n of this._blocks)t.set(n,s),s+=n.length;return t}},i.BitReader=class{constructor(e){this.buffer=e,this.position=0,this.data=0,this.value=0}bits(e){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const t=this.value&65535>>>16-e;return this.value>>>=e,this.data-=e,t}bitsBase(e,t){if(e==0)return t;for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const s=this.value&65535>>>16-e;return this.value>>>=e,this.data-=e,s+t}bytes(e){const t=this.buffer.subarray(this.position,this.position+e);return this.position+=e,t}uint16(){const e=this.buffer[this.position]|this.buffer[this.position+1]<<8;return this.position+=2,e}symbol(e){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;let t=0,s=0,n=0,o=this.value;const r=e.table;do s=(s<<1)+(1&o),o>>>=1,n++,t+=r[n],s-=r[n];while(s>=0);return this.value=o,this.data-=n,e.symbol[t+s]}},i.Reader=class{constructor(e,t,s){this._buffer=e,this._position=t,this._end=s}match(e){if(this._position+e.length<=this._end){for(let t=0;t<e.length;t++)if(this._buffer[this._position+t]!=e[t])return!1}return this._position+=e.length,!0}get position(){return this._position}set position(e){this._position=e>=0?e:this._end+e}peek(){return this._position<this._end}skip(e){if(this._position+e>this._end)throw new i.Error("Data not available.");this._position+=e}bytes(e){if(this._position+e>this._end)throw new i.Error("Data not available.");e=e===void 0?this._end:e;const t=this._buffer.subarray(this._position,this._position+e);return this._position+=e,t}uint16(){if(this._position+2>this._end)throw new i.Error("Data not available.");const e=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,e}uint32(){return this.uint16()|this.uint16()<<16}},i.Error=class extends Error{constructor(e){super(e),this.name="Zip Error"}},typeof v.exports=="object"&&(v.exports.Archive=i.Archive,v.exports.Inflater=i.Inflater)}).call(this,A(7),A(54))},351:function(v,U,A){var l=l||{},b=b||A(96);l.Renderer=class{constructor(t,s){this._document=t,this._svgElement=s}render(t){const s=this.createElement("g");s.setAttribute("id","clusters"),s.setAttribute("class","clusters"),this._svgElement.appendChild(s);const n=this.createElement("g");n.setAttribute("id","edge-paths"),n.setAttribute("class","edge-paths"),this._svgElement.appendChild(n);const o=this.createElement("g");o.setAttribute("id","edge-labels"),o.setAttribute("class","edge-labels"),this._svgElement.appendChild(o);const r=this.createElement("g");r.setAttribute("id","nodes"),r.setAttribute("class","nodes"),this._svgElement.appendChild(r);for(const f of t.nodes())if(t.children(f).length==0){const a=t.node(f),u=this.createElement("g");a.id&&u.setAttribute("id",a.id),u.setAttribute("class",Object.prototype.hasOwnProperty.call(a,"class")?"node "+a.class:"node"),u.style.opacity=0;const d=this.createElement("g");d.appendChild(a.label),u.appendChild(d),r.appendChild(u);const m=a.label.getBBox(),g=-m.width/2,_=-m.height/2;d.setAttribute("transform","translate("+g+","+_+")"),a.width=m.width,a.height=m.height,a.element=u}for(const f of t.edges()){const a=t.edge(f);if(a.label){const u=this.createElement("tspan");u.setAttribute("xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","1"),u.appendChild(this._document.createTextNode(a.label));const d=this.createElement("text");d.appendChild(u);const m=this.createElement("g");m.appendChild(d);const g=this.createElement("g");g.style.opacity=0,g.setAttribute("class","edge-label"),g.appendChild(m),o.appendChild(g);const _=m.getBBox(),w=-_.width/2,y=-_.height/2;m.setAttribute("transform","translate("+w+","+y+")"),a.width=_.width,a.height=_.height,a.labelElement=g}}b.layout(t);for(const f of t.nodes())if(t.children(f).length==0){const a=t.node(f);a.element.setAttribute("transform","translate("+a.x+","+a.y+")"),a.element.style.opacity=1,delete a.element}for(const f of t.edges()){const a=t.edge(f);a.labelElement&&(a.labelElement.setAttribute("transform","translate("+a.x+","+a.y+")"),a.labelElement.style.opacity=1,delete a.labelElement)}const h=this.createElement("defs");n.appendChild(h);const c=this.createElement("marker");c.setAttribute("id","arrowhead-vee"),c.setAttribute("viewBox","0 0 10 10"),c.setAttribute("refX",9),c.setAttribute("refY",5),c.setAttribute("markerUnits","strokeWidth"),c.setAttribute("markerWidth",8),c.setAttribute("markerHeight",6),c.setAttribute("orient","auto"),h.appendChild(c);const p=this.createElement("path");p.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),p.style.setProperty("stroke-width",1),p.style.setProperty("stroke-dasharray","1,0"),c.appendChild(p);for(const f of t.edges()){const a=t.edge(f),u=l.Renderer._computeCurvePath(a,t.node(f.v),t.node(f.w)),d=this.createElement("path");d.setAttribute("class",Object.prototype.hasOwnProperty.call(a,"class")?"edge-path "+a.class:"edge-path"),d.setAttribute("d",u),d.setAttribute("marker-end","url(#arrowhead-vee)"),a.id&&d.setAttribute("id",a.id),n.appendChild(d)}for(const f of t.nodes())if(t.children(f).length>0){const a=t.node(f),u=this.createElement("g");u.setAttribute("class","cluster"),u.setAttribute("transform","translate("+a.x+","+a.y+")");const d=this.createElement("rect");d.setAttribute("x",-a.width/2),d.setAttribute("y",-a.height/2),d.setAttribute("width",a.width),d.setAttribute("height",a.height),a.rx&&d.setAttribute("rx",a.rx),a.ry&&d.setAttribute("ry",a.ry),u.appendChild(d),s.appendChild(u)}}createElement(t){return this._document.createElementNS("http://www.w3.org/2000/svg",t)}static _computeCurvePath(t,s,n){const o=t.points.slice(1,t.points.length-1);o.unshift(l.Renderer.intersectRect(s,o[0])),o.push(l.Renderer.intersectRect(n,o[o.length-1]));const r=new i,h=new e(r);for(let c=0;c<o.length;c++){const p=o[c];c==0&&h.lineStart(),h.point(p.x,p.y),c==o.length-1&&h.lineEnd()}return r.data}static intersectRect(t,s){const n=t.x,o=t.y,r=s.x-n,h=s.y-o;let c,p,f=t.width/2,a=t.height/2;return Math.abs(h)*f>Math.abs(r)*a?(h<0&&(a=-a),c=h===0?0:a*r/h,p=a):(r<0&&(f=-f),c=f,p=r===0?0:f*h/r),{x:n+c,y:o+p}}},l.NodeElement=class{constructor(t){this._document=t,this._blocks=[]}block(t){switch(this._block=null,t){case"header":this._block=new l.NodeElement.Header(this._document);break;case"list":this._block=new l.NodeElement.List(this._document)}return this._blocks.push(this._block),this._block}format(t){const s=this.createElement("g");t.appendChild(s);let n=0,o=0;const r=[];for(const c of this._blocks)r.push(o),c.layout(s),n<c.width&&(n=c.width),o+=c.height;for(let c=0;c<this._blocks.length;c++){const p=r.shift();this._blocks[c].update(s,p,n,c==0,c==this._blocks.length-1)}const h=this.createElement("path");return h.setAttribute("class",["node","border"].join(" ")),h.setAttribute("d",l.NodeElement.roundedRect(0,0,n,o,!0,!0,!0,!0)),s.appendChild(h),t.innerHTML="",s}static roundedRect(t,s,n,o,r,h,c,p){return"M"+(t+(r=r?5:0))+","+s+"h"+(n-r-(h=h?5:0))+"a"+h+","+h+" 0 0 1 "+h+","+h+"v"+(o-h-(c=c?5:0))+"a"+c+","+c+" 0 0 1 "+-c+","+c+"h"+(c+(p=p?5:0)-n)+"a"+p+","+p+" 0 0 1 "+-p+","+-p+"v"+(-o+p+r)+"a"+r+","+r+" 0 0 1 "+r+","+-r+"z"}createElement(t){return this._document.createElementNS("http://www.w3.org/2000/svg",t)}},l.NodeElement.Header=class{constructor(t){this._document=t,this._items=[]}add(t,s,n,o,r){this._items.push({id:t,classList:s,content:n,tooltip:o,handler:r})}layout(t){this._width=0,this._height=0,this._elements=[];let s=0;for(const n of this._items){const o=4,r=7,h=this.createElement("g");let c=["node-item"];t.appendChild(h);const p=this.createElement("path"),f=this.createElement("text");if(h.appendChild(p),h.appendChild(f),n.classList&&(c=c.concat(n.classList)),h.setAttribute("class",c.join(" ")),n.id&&h.setAttribute("id",n.id),n.handler&&h.addEventListener("click",n.handler),n.tooltip){const m=this.createElement("title");m.textContent=n.tooltip,h.appendChild(m)}n.content&&(f.textContent=n.content);const a=f.getBBox(),u=a.width+r+r,d=a.height+o+o;this._elements.push({group:h,text:f,path:p,x:s,y:0,width:u,height:d,tx:r,ty:o-a.y}),s+=u,this._height<d&&(this._height=d),s>this._width&&(this._width=s)}}get width(){return this._width}get height(){return this._height}update(t,s,n,o,r){const h=n-this._width;let c,p,f;for(c=0;c<this._elements.length;c++)p=this._elements[c],c==0?p.width=p.width+h:(p.x=p.x+h,p.tx=p.tx+h),p.y=p.y+s;for(c=0;c<this._elements.length;c++){p=this._elements[c],p.group.setAttribute("transform","translate("+p.x+","+p.y+")");const a=c==0&&o,u=c==this._elements.length-1&&o,d=c==this._elements.length-1&&r,m=c==0&&r;p.path.setAttribute("d",l.NodeElement.roundedRect(0,0,p.width,p.height,a,u,d,m)),p.text.setAttribute("x",6),p.text.setAttribute("y",p.ty)}for(c=0;c<this._elements.length;c++)p=this._elements[c],c!=0&&(f=this.createElement("line"),f.setAttribute("class","node"),f.setAttribute("x1",p.x),f.setAttribute("x2",p.x),f.setAttribute("y1",s),f.setAttribute("y2",s+this._height),t.appendChild(f));o||(f=this.createElement("line"),f.setAttribute("class","node"),f.setAttribute("x1",0),f.setAttribute("x2",n),f.setAttribute("y1",s),f.setAttribute("y2",s),t.appendChild(f))}createElement(t){return this._document.createElementNS("http://www.w3.org/2000/svg",t)}},l.NodeElement.List=class{constructor(t){this._document=t,this._items=[]}add(t,s,n,o,r){this._items.push({id:t,name:s,value:n,tooltip:o,separator:r})}get handler(){return this._handler}set handler(t){this._handler=t}layout(t){this._width=0,this._height=0,this._element=this.createElement("g"),this._element.setAttribute("class","node-attribute"),t.appendChild(this._element),this._handler&&this._element.addEventListener("click",this._handler),this._backgroundElement=this.createElement("path"),this._element.appendChild(this._backgroundElement),this._element.setAttribute("transform","translate(0,0)"),this._height+=3;for(const s of this._items){const n=1,o=6,r=this.createElement("text");if(s.id&&r.setAttribute("id",s.id),r.setAttribute("xml:space","preserve"),this._element.appendChild(r),s.tooltip){const a=this.createElement("title");a.textContent=s.tooltip,r.appendChild(a)}const h=this.createElement("tspan");h.textContent=s.name,s.separator.trim()!="="&&(h.style.fontWeight="bold"),r.appendChild(h);const c=this.createElement("tspan");c.textContent=s.separator+s.value,r.appendChild(c);const p=r.getBBox(),f=o+p.width+o;this._width<f&&(this._width=f),r.setAttribute("x",0+o),r.setAttribute("y",this._height+n-p.y),this._height+=n+p.height+n}this._height+=3,this._width<100&&(this._width=100)}get width(){return this._width}get height(){return this._height}update(t,s,n,o,r){this._element.setAttribute("transform","translate(0,"+s+")");const h=o,c=o,p=r,f=r;if(this._backgroundElement.setAttribute("d",l.NodeElement.roundedRect(0,0,n,this._height,h,c,p,f)),!o){const a=this.createElement("line");a.setAttribute("class","node"),a.setAttribute("x1",0),a.setAttribute("x2",n),a.setAttribute("y1",0),a.setAttribute("y2",0),this._element.appendChild(a)}}createElement(t){return this._document.createElementNS("http://www.w3.org/2000/svg",t)}};class i{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(t,s){this._data+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+s)}lineTo(t,s){this._data+="L"+(this._x1=+t)+","+(this._y1=+s)}bezierCurveTo(t,s,n,o,r,h){this._data+="C"+ +t+","+ +s+","+ +n+","+ +o+","+(this._x1=+r)+","+(this._y1=+h)}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class e{constructor(t){this._context=t}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(t,s);break;default:this.curve(t,s)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}curve(t,s){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+s)/6)}}typeof v.exports=="object"&&(v.exports.Renderer=l.Renderer,v.exports.NodeElement=l.NodeElement)},352:function(v,U,A){const l={},b={Long:A(28)},i=A(353);l.NodeSidebar=class{constructor(t,s){this._host=t,this._node=s,this._properties=[],this._attributes=[],this._inputs=[],this._outputs=[],s.type&&this._addProperty("type",new l.ValueTextView(this._host,s.type,{documentation:!!s.metadata})),s.name&&this._addProperty("name",new l.ValueTextView(this._host,s.name)),s.location&&this._addProperty("location",new l.ValueTextView(this._host,s.location)),s.domain&&this._addProperty("domain",new l.ValueTextView(this._host,s.domain)),s.description&&this._addProperty("description",new l.ValueTextView(this._host,s.description)),s.device&&this._addProperty("device",new l.ValueTextView(this._host,s.device));const n=s.attributes;if(n&&n.length>0){const h=s.attributes.slice();h.sort((c,p)=>{const f=c.name.toUpperCase(),a=p.name.toUpperCase();return f<a?-1:f>a?1:0});for(const c of h)this._addAttribute(c.name,c)}const o=s.inputs;if(o&&o.length>0)for(const h of o)this._addInput(h.name,h);const r=s.outputs;if(r&&r.length>0)for(const h of r)this._addOutput(h.name,h)}render(){return{properties:this._properties,groups:[{name:"attributes",properties:this._attributes},{name:"inputs",properties:this._inputs},{name:"outputs",properties:this._outputs}]}}_addProperty(t,s){const n=new l.NameValueView(this._host,t,s);this._properties.push(n.render())}_addAttribute(t,s){const n=new l.NameValueView(this._host,t,new e(this._host,s));this._attributes.push(n.render())}_addInput(t,s){if(s.arguments.length>0){const n=new l.ParameterView(this._host,s),o=new l.NameValueView(this._host,t,n);this._inputs.push(o.render())}}_addOutput(t,s){if(s.arguments.length>0){const n=new l.ParameterView(this._host,s),o=new l.NameValueView(this._host,t,n);this._outputs.push(o.render())}}static formatAttributeValue(t,s,n){if(typeof t=="function")return t();if(t&&b.Long.isLong(t))return t.toString();if(Number.isNaN(t))return"NaN";switch(s){case"shape":return t.toString();case"shape[]":return t?t.map(c=>c.toString()).join(", "):"(null)";case"graph":return t.toString();case"graph[]":return t?t.map(c=>c.toString()).join(", "):"(null)";case"tensor":return t&&t.type&&t.type.shape&&t.type.shape.dimensions&&t.type.shape.dimensions.length==0?t.toString():"[...]"}if(typeof t=="string"&&(!s||s!="string"))return n?'"'+t+'"':t;if(Array.isArray(t)){if(t.length==0)return n?"[]":"";let c=!1;t.length>1e3&&(t=t.slice(0,1e3),c=!0);const p=t.map(f=>f&&b.Long.isLong(f)?f.toString():Number.isNaN(f)?"NaN":l.NodeSidebar.formatAttributeValue(f,null,!0));return c&&p.push("…"),n?["[",p.join(", "),"]"].join(" "):p.join(", ")}if(t===null)return n?"null":"";if(t===void 0)return"undefined";if(t!==Object(t))return t.toString();const o=[],r=Object.keys(t).filter(c=>!c.startsWith("__")&&!c.endsWith("__"));if(r.length==1)o.push(l.NodeSidebar.formatAttributeValue(t[Object.keys(t)[0]],null,!0));else for(const c of r)o.push(c+": "+l.NodeSidebar.formatAttributeValue(t[c],null,!0));let h=t.__type__;if(!h&&t.constructor.name&&t.constructor.name!=="Object"&&(h=t.constructor.name),h)return h+(o.length==0?"()":["(",o.join(", "),")"].join(""));switch(o.length){case 0:return n?"()":"";case 1:return o[0];default:return n?["(",o.join(", "),")"].join(" "):o.join(", ")}}},l.NameValueView=class{constructor(t,s,n){this._host=t,this._name=s,this._value=n,this._element={name:s,values:n.render()}}get name(){return this._name}render(){return this._element}},l.ValueTextView=class{constructor(t,s,n){this._host=t,this._elements=[],this._elements.push(Object.assign({value:s},n))}render(){return this._elements}};class e{constructor(t,s){this._host=t,this._attribute=s,this._element={},s.type&&(this._element.children=this.renderChildren());let n=l.NodeSidebar.formatAttributeValue(this._attribute.value,this._attribute.type);n&&n.length>1e3&&(n=n.substring(0,1e3)+"…"),this._element.value=n||" "}render(){return[this._element]}renderChildren(){const t=[];this._host.document.createElement("div").className="sidebar-view-item-value-line-border";const s=this._attribute.type,n=this._attribute.value;s=="tensor"&&n&&n.type?t.push({name:"type",value:n.type.toString(),type:"code"}):t.push({name:"type",value:this._attribute.type,type:"code"});const o=this._attribute.description;if(o&&t.push({value:o}),this._attribute.type=="tensor"&&n){const r=n.state;t.push({value:r||n.toString(),type:"raw"})}return t}}l.ParameterView=class{constructor(t,s){this._list=s,this._elements=[],this._items=[];for(const n of s.arguments){const o=new l.ArgumentView(t,n);this._items.push(o),this._elements.push(o.render())}}render(){return this._elements}},l.ArgumentView=class{constructor(t,s){this._host=t,this._argument=s,this._element={};const n=s.initializer,o=s.quantization;(s.type||n||o)&&(this._element.children=this.renderChildren());let r=this._argument.name||"";if(this._hasId=!!r,n&&!this._hasId)this._element.name="kind",this._element.value=n.kind;else{if(typeof r!="string")throw new Error("Invalid argument identifier '"+JSON.stringify(r)+"'.");r=r.split(`
`).shift(),this._element.name="name",this._element.value=r||" "}}render(){return this._element}renderChildren(){const t=[];let s="?",n=null;this._argument.type&&(s=this._argument.type.toString(),n=this._argument.type.denotation||null),s&&t.push({name:"type",value:s,type:"code"}),n&&t.push({name:"denotation",value:n,type:"code"});const o=this._argument.description;o&&t.push({name:"description",value:o});const r=this._argument.quantization;r&&t.push({name:"quantization",value:r}),this._argument.location&&t.push({name:"location",value:this._argument.location});const h=this._argument.initializer;if(h){h.reference&&t.push({name:"reference",value:this._argument.reference});const c=h.state;let p="";try{p=c||h.toString()}catch(f){p=f.toString(),this._host.exception(f,!1)}t.push({value:p,type:"raw"})}return t}},l.ModelSidebar=class{constructor(t,s,n){this._host=t,this._model=s,this._properties=[],this._groups=[],this._model.format&&this._addProperty("format",new l.ValueTextView(this._host,this._model.format)),this._model.producer&&this._addProperty("producer",new l.ValueTextView(this._host,this._model.producer)),this._model.source&&this._addProperty("source",new l.ValueTextView(this._host,this._model.source)),this._model.name&&this._addProperty("name",new l.ValueTextView(this._host,this._model.name)),this._model.version&&this._addProperty("version",new l.ValueTextView(this._host,this._model.version)),this._model.description&&this._addProperty("description",new l.ValueTextView(this._host,this._model.description)),this._model.author&&this._addProperty("author",new l.ValueTextView(this._host,this._model.author)),this._model.company&&this._addProperty("company",new l.ValueTextView(this._host,this._model.company)),this._model.license&&this._addProperty("license",new l.ValueTextView(this._host,this._model.license)),this._model.domain&&this._addProperty("domain",new l.ValueTextView(this._host,this._model.domain)),this._model.imports&&this._addProperty("imports",new l.ValueTextView(this._host,this._model.imports)),this._model.runtime&&this._addProperty("runtime",new l.ValueTextView(this._host,this._model.runtime));const o=this._model.metadata;if(o)for(const r of o)this._addProperty(r.name,new l.ValueTextView(this._host,r.value));if(this._model._graphs.length>1&&this._addProperty("subgraph",new l.ValueTextView(this._host,n.name)),n){if(n.version&&this._addProperty("version",new l.ValueTextView(this._host,n.version)),n.type&&this._addProperty("type",new l.ValueTextView(this._host,n.type)),n.tags&&this._addProperty("tags",new l.ValueTextView(this._host,n.tags)),n.description&&this._addProperty("description",new l.ValueTextView(this._host,n.description)),n.inputs.length)for(const r of n.inputs)this._addGroupProperty("inputs",r.name,r);if(n.outputs.length)for(const r of n.outputs)this._addGroupProperty("outputs",r.name,r)}}render(){return{properties:this._properties,groups:this._groups}}_addGroupProperty(t,s,n){const o=this._groups.find(r=>r.name===t);o?o.properties.push(this._addArgument(s,n)):this._groups.push({name:t,properties:[this._addArgument(s,n)]})}_addProperty(t,s){const n=new l.NameValueView(this._host,t,s);this._properties.push(n.render())}_addArgument(t,s){const n=new l.ParameterView(this._host,s);return new l.NameValueView(this._host,t,n).render()}},l.DocumentationSidebar=class{constructor(t,s){this._host=t,this._metadata=s}render(){return l.DocumentationSidebar.formatDocumentation(this._metadata)}static formatDocumentation(t){if(t){if((t=JSON.parse(JSON.stringify(t))).summary&&(t.summary=i(t.summary)),t.description&&(t.description=i(t.description)),t.attributes)for(const s of t.attributes)s.description&&(s.description=i(s.description));if(t.inputs)for(const s of t.inputs)s.description&&(s.description=i(s.description));if(t.outputs)for(const s of t.outputs)s.description&&(s.description=i(s.description));if(t.references)for(const s of t.references)s&&(s.description=i(s.description));return t}return""}},l.FindSidebar=class{constructor(t,s,n){this._host=t,this._graphElement=s,this._graph=n}static selection(t,s){const n=[],o=t.id;let r=s.getElementById("nodes").firstChild;for(;r;)r.id==o&&n.push(r),r=r.nextSibling;let h=s.getElementById("edge-paths").firstChild;for(;h;)h.id==o&&n.push(h),h=h.nextSibling;let c=s.getElementById(o);if(c){for(;c.parentElement;)if(c=c.parentElement,c.id&&c.id.startsWith("node-")){n.push(c);break}}return n.length>0?n:null}update(t){const s=t.toLowerCase(),n=new Set,o=new Set,r=[];for(const h of this._graph.nodes){const c=[];for(const a of h.inputs)for(const u of a.arguments)u.name&&u.name.toLowerCase().indexOf(s)!=-1&&!o.has(u.name)&&(u.initializer?c.push(u.initializer):(r.push({type:"input",name:u.name.split(`
`).shift(),id:"edge-"+u.name}),o.add(u.name)));const p=h.name,f=h.type;!n.has(p)&&p&&(p.toLowerCase().indexOf(s)!=-1||f&&f.toLowerCase().indexOf(s)!=-1)&&(r.push({type:"node",name:h.name,id:"node-"+h.name}),n.add(h.name));for(const a of c)r.push({type:"initializer",name:a.name,id:"initializer-"+a.name})}for(const h of this._graph.nodes)for(const c of h.outputs)for(const p of c.arguments)p.name&&p.name.toLowerCase().indexOf(s)!=-1&&!o.has(p.name)&&(r.push({type:"output",name:p.name.split(`
`).shift(),id:"edge-"+p.name}),o.add(p.name));return{text:t,result:r}}},typeof v.exports=="object"&&(v.exports.Sidebar=l.Sidebar,v.exports.ModelSidebar=l.ModelSidebar,v.exports.NodeSidebar=l.NodeSidebar,v.exports.DocumentationSidebar=l.DocumentationSidebar,v.exports.FindSidebar=l.FindSidebar)},62:function(v,U,A){var l=l||{},b=b||{Long:A(28)};l.get=i=>(l._map=l._map||new Map,l._map.has(i)||l._map.set(i,{}),l._map.get(i)),l.Reader=class{constructor(i){this._buffer=i,this._length=i.length,this._position=0,this._dataView=new DataView(i.buffer,i.byteOffset,i.byteLength),this._decoder=new TextDecoder("utf-8")}static create(i){return new l.Reader(i)}next(i){return i===void 0?this._length:this._position+i}end(i){return this._position<i}get pos(){return this._position}string(){return this._decoder.decode(this.bytes())}bool(){return this.uint32()!==0}bytes(){const i=this.uint32(),e=this._position,t=this._position+i;if(t>this._length)throw this._indexOutOfRangeError(i);return this._position+=i,this._buffer.slice(e,t)}uint32(){let i=4294967295;if(i=(127&this._buffer[this._position])>>>0,this._buffer[this._position++]<128)return i;if(i=(i|(127&this._buffer[this._position])<<7)>>>0,this._buffer[this._position++]<128)return i;if(i=(i|(127&this._buffer[this._position])<<14)>>>0,this._buffer[this._position++]<128)return i;if(i=(i|(127&this._buffer[this._position])<<21)>>>0,this._buffer[this._position++]<128)return i;if(i=(i|(15&this._buffer[this._position])<<28)>>>0,this._buffer[this._position++]<128)return i;if((this._position+=5)>this._length)throw this._position=this._length,this._indexOutOfRangeError(10);return i}int32(){return 0|this.uint32()}sint32(){const i=this.uint32();return i>>>1^-(1&i)|0}int64(){return this._readLongVarint().toLong(!1)}uint64(){return this._readLongVarint().toLong(!0)}sint64(){return this._readLongVarint().zzDecode().toLong(!1)}fixed64(){return this._readFixed64().toLong(!0)}sfixed64(){return this._readFixed64().toLong(!1)}fixed32(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);return this._position+=4,this._readFixed32()}sfixed32(){return 0|this.fixed32()}float(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);const i=this._position;return this._position+=4,this._dataView.getFloat32(i,!0)}double(){if(this._position+8>this._length)throw this._indexOutOfRangeError(4);const i=this._position;return this._position+=8,this._dataView.getFloat64(i,!0)}array(i,e,t){if((7&t)==2){const s=this.uint32()+this._position;for(;this._position<s;)i.push(e())}else i.push(e());return i}floats(i,e){if((7&e)==2){if(i&&i.length>0)throw new l.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t,n=t>>>2;i=t>1048576?new Float32Array(n):new Array(n);let o=this._position;for(let r=0;r<n;r++)i[r]=this._dataView.getFloat32(o,!0),o+=4;this._position=s}else i!==void 0&&i.length<1e6?i.push(this.float()):(i=void 0,this.float());return i}doubles(i,e){if((7&e)==2){if(i&&i.length>0)throw new l.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t,n=t>>>3;i=t>1048576?new Float64Array(n):new Array(n);let o=this._position;for(let r=0;r<n;r++)i[r]=this._dataView.getFloat64(o,!0),o+=8;this._position=s}else i!==void 0&&i.length<1e6?i.push(this.double()):(i=void 0,this.double());return i}skip(i){if(typeof i=="number"){if(this._position+i>this._length)throw this._indexOutOfRangeError(i);this._position+=i}else do if(this._position>=this._length)throw this._indexOutOfRangeError();while(128&this._buffer[this._position++]);return this}skipType(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=7&this.uint32())!=4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw new l.Error("invalid wire type "+i+" at offset "+this._position)}}pair(i,e,t){this.skip(),this._position++;const s=typeof e=="object"?l.LongBits.hash(e()):e();this._position++;const n=t();i[s]=n}_readFixed32(){return(this._buffer[this._position-4]|this._buffer[this._position-3]<<8|this._buffer[this._position-2]<<16|this._buffer[this._position-1]<<24)>>>0}_readFixed64(){if(this._position+8>this._length)throw this._indexOutOfRangeError(8);this._position+=4;const i=this._readFixed32();this._position+=4;const e=this._readFixed32();return new l.LongBits(i,e)}_readLongVarint(){const i=new l.LongBits(0,0);let e=0;if(!(this._length-this._position>4)){for(;e<3;++e){if(this._position>=this._length)throw this._indexOutOfRangeError();if(i.lo=(i.lo|(127&this._buffer[this._position])<<7*e)>>>0,this._buffer[this._position++]<128)return i}return i.lo=(i.lo|(127&this._buffer[this._position++])<<7*e)>>>0,i}for(;e<4;++e)if(i.lo=(i.lo|(127&this._buffer[this._position])<<7*e)>>>0,this._buffer[this._position++]<128)return i;if(i.lo=(i.lo|(127&this._buffer[this._position])<<28)>>>0,i.hi=(i.hi|(127&this._buffer[this._position])>>4)>>>0,this._buffer[this._position++]<128)return i;if(e=0,this._length-this._position>4){for(;e<5;++e)if(i.hi=(i.hi|(127&this._buffer[this._position])<<7*e+3)>>>0,this._buffer[this._position++]<128)return i}else for(;e<5;++e){if(this._position>=this._length)throw this._indexOutOfRangeError();if(i.hi=(i.hi|(127&this._buffer[this._position])<<7*e+3)>>>0,this._buffer[this._position++]<128)return i}throw new l.Error("Invalid varint encoding.")}_indexOutOfRangeError(i){return RangeError("index out of range: "+this._position+" + "+(i||1)+" > "+this._length)}},l.TextReader=class{constructor(i){this._text=i,this._position=0,this._lineEnd=-1,this._lineStart=0,this._line=-1,this._depth=0,this._arrayDepth=0,this._token=""}static create(i){return new l.TextReader(i)}start(){this._depth>0&&this.expect("{"),this._depth++}end(){const i=this.peek();return this._depth>0&&i==="}"?(this.expect("}"),this.match(";"),this._depth--,!0):i===""}tag(){const i=this.read(),e=this.peek();return e!=="["&&e!=="{"&&this.expect(":"),i}assert(i){const e=this.tag();if(e!==i)throw new l.Error("Unexpected '"+e+"' instead of '"+i+"'"+this.location())}integer(){const i=this.read(),e=Number.parseInt(i,10);if(Number.isNaN(i-e))throw new l.Error("Couldn't parse integer '"+i+"'"+this.location());return this.semicolon(),e}float(){let i=this.read();if(i.startsWith("nan"))return NaN;if(i.startsWith("inf"))return 1/0;if(i.startsWith("-inf"))return-1/0;i.endsWith("f")&&(i=i.substring(0,i.length-1));const e=Number.parseFloat(i);if(Number.isNaN(i-e))throw new l.Error("Couldn't parse float '"+i+"'"+this.location());return this.semicolon(),e}string(){const i=this.read();if(i.length<2)throw new l.Error("String is too short"+this.location());const e=i[0];if(e!=="'"&&e!=='"')throw new l.Error("String is not in quotes"+this.location());if(e!==i[i.length-1])throw new l.Error("String quotes do not match"+this.location());const t=i.substring(1,i.length-1);return this.semicolon(),t}boolean(){const i=this.read();switch(i){case"true":case"True":case"1":return this.semicolon(),!0;case"false":case"False":case"0":return this.semicolon(),!1}throw new l.Error("Couldn't parse boolean '"+i+"'"+this.location())}bytes(){const i=this.string();let e=0,t=0;const s=i.length,n=new Uint8Array(s);for(;e<s;){let o=i.charCodeAt(e++);if(o!==92)n[t++]=o;else{if(e>=s)throw new l.Error("Unexpected end of bytes string"+this.location());switch(o=i.charCodeAt(e++),o){case 39:n[t++]=39;break;case 92:n[t++]=92;break;case 34:n[t++]=34;break;case 114:n[t++]=13;break;case 110:n[t++]=10;break;case 116:n[t++]=9;break;case 98:n[t++]=8;break;case 88:case 120:for(let r=0;r<2;r++){if(e>=s)throw new l.Error("Unexpected end of bytes string"+this.location());let h=i.charCodeAt(e++);if(h=h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h>=48&&h<=57?h-48:-1,h===-1)throw new l.Error("Unexpected hex digit '"+h+"' in bytes string"+this.location());n[t]=n[t]<<4|h}t++;break;default:if(o<48||o>57)throw new l.Error("Unexpected character '"+o+"' in bytes string"+this.location());e--;for(let r=0;r<3;r++){if(e>=s)throw new l.Error("Unexpected end of bytes string"+this.location());const h=i.charCodeAt(e++);if(h<48||h>57)throw new l.Error("Unexpected octal digit '"+h+"' in bytes string"+this.location());n[t]=n[t]<<3|h-48}t++}}}return n.slice(0,t)}enum(i){const e=this.read();if(!Object.prototype.hasOwnProperty.call(i,e)){const t=Number.parseInt(e,10);if(!Number.isNaN(e-t))return this.semicolon(),t;throw new l.Error("Couldn't parse enum '"+e+"'"+this.location())}return this.semicolon(),i[e]}any(i){if(this.match("[")){this.read();const e=this._position,t=this._text.indexOf("]",e);if(t===-1||t>=this.next)throw new l.Error("End of Any type_url not found"+this.location());return i.type_url=this._text.substring(e,t),this._position=t+1,i.value=this.skip().substring(1),this.expect("}"),this.match(";"),!0}return!1}pair(i,e,t){let s,n;for(this.start();!this.end();)switch(this.tag()){case"key":s=e();break;case"value":n=t()}i[s]=n}array(i,e){if(this.first())for(;!this.last();)i.push(e()),this.next();else i.push(e())}first(){return!!this.match("[")&&(this._arrayDepth++,!0)}last(){return!!this.match("]")&&(this._arrayDepth--,!0)}next(){const i=this.peek();i!==","?i!=="]"&&this.handle(i):this.read()}skip(){let i=this.peek();if(i==="{"){const t=this._position,s=this._depth;for(this.start();!this.end()||s<this._depth;)i=this.peek(),i==="{"?this.start():i!=="}"&&(this.read(),this.match(";"));return this._text.substring(t,this._position)}if(i==="["){const t=this._position;for(this.read();!this.last();)i=this.read(),i===""&&this.handle(i);return this._text.substring(t,this._position)}const e=this._position;return this.read(),this.semicolon(),this._text.substring(e,this._position)}handle(i){throw new l.Error("Unexpected token '"+i+"'"+this.location())}field(i){throw new l.Error("Unknown field '"+i+"'"+this.location())}whitespace(){for(;;){for(;this._position>=this._lineEnd;){if(this._lineStart=this._lineEnd+1,this._position=this._lineStart,this._position>=this._text.length)return!1;this._lineEnd=this._text.indexOf(`
`,this._position),this._lineEnd===-1&&(this._lineEnd=this._text.length),this._line++}switch(this._text[this._position]){case" ":case"\r":case"	":this._position++;break;case"#":this._position=this._lineEnd;break;default:return!0}}}tokenize(){if(!this.whitespace())return this._token="",this._token;let i=this._text[this._position];if(i==="["&&this._position+2<this._lineEnd){let t=this._position+1,s=this._text[t];if(s>="a"&&s<="z"||s>="A"&&s<="Z"){for(t++;t<this._lineEnd;)if(s=this._text[t],t++,!(s>="a"&&s<="z"||s>="A"&&s<="Z"||s>="0"&&s<="9"||s==="."||s==="/")&&s==="]")return this._token=this._text.substring(this._position,t),this._token}}if(i==="{"||i==="}"||i===":"||i==="["||i===","||i==="]"||i===";")return this._token=i,this._token;let e=this._position+1;if(i>="a"&&i<="z"||i>="A"&&i<="Z"||i==="_"||i==="$"){for(;e<this._lineEnd&&(i=this._text[e],i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"||i==="_"||i==="+"||i==="-");)e++;return this._token=this._text.substring(this._position,e),this._token}if(i>="0"&&i<="9"||i==="-"||i==="+"||i==="."){for(;e<this._lineEnd&&(i=this._text[e],i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"||i==="_"||i==="+"||i==="-"||i===".");)e++;return this._token=this._text.substring(this._position,e),this._token}if(i==='"'||i==="'"){const t=i;for(;e<this._lineEnd;)if(i=this._text[e],i==="\\"&&e<this._lineEnd)e+=2;else if(e++,i===t)break;return this._token=this._text.substring(this._position,e),this._token}throw new l.Error("Unexpected token '"+i+"'"+this.location())}peek(){return this._cache||(this._token=this.tokenize(),this._cache=!0),this._token}read(){return this._cache||(this._token=this.tokenize()),this._position+=this._token.length,this._cache=!1,this._token}expect(i){const e=this.read();if(e!==i)throw new l.Error("Unexpected '"+e+"' instead of '"+i+"'"+this.location())}match(i){return this.peek()===i&&(this.read(),!0)}semicolon(){this._arrayDepth===0&&this.match(";")}location(){return" at "+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}},l.Long=b.Long,l.LongBits=class{constructor(i,e){this.lo=i>>>0,this.hi=e>>>0}toLong(i){return l.Long?new l.Long(0|this.lo,0|this.hi,i):{low:0|this.lo,high:0|this.hi,unsigned:i}}toNumber(i){if(!i&&this.hi>>>31){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi}toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)}zzDecode(){const i=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this}from(i){if(typeof i=="number")return l.LongBits.fromNumber(i);if(typeof i=="string"||i instanceof String){if(!l.Long)return l.LongBits.fromNumber(parseInt(i,10));i=l.Long.fromString(i)}return i.low||i.high?new l.LongBits(i.low>>>0,i.high>>>0):l.LongBits.zero}hash(i){return i?l.LongBits.from(i).toHash():"\0\0\0\0\0\0\0\0"}},l.LongBits.zero=new l.LongBits(0,0),l.LongBits.zero.toNumber=function(){return 0},l.LongBits.zero.zzDecode=function(){return this},l.Error=class extends Error{constructor(i){super(i),this.name="Protocol Buffer Error",this.message=i}},typeof v.exports=="object"&&(v.exports.Reader=l.Reader,v.exports.TextReader=l.TextReader,v.exports.Error=l.Error,v.exports.Long=l.Long,v.exports.get=l.get)},89:function(v,U){},90:function(v,U){}});
