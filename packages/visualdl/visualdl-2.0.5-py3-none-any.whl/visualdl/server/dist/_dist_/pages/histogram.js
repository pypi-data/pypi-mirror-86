function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c.apply(this,arguments)}function E(e,n){if(e==null)return{};var r=j(e,n),t,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++){if(t=s[i],n.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;r[t]=e[t]}}return r}function j(e,n){if(e==null)return{};var r={},t=Object.keys(e),i,s;for(s=0;s<t.length;s++){if(i=t[s],n.indexOf(i)>=0)continue;r[i]=e[i]}return r}import b from"../components/ChartPage.js";import{Modes as P,modes as O}from"../resource/histogram/index.js";import o,{useCallback as y,useMemo as C,useState as g}from"../../web_modules/react.js";import{AsideSection as w}from"../components/Aside.js";import U from"../components/Content.js";import v from"../components/Error.js";import S from"../components/Field.js";import A from"../components/HistogramPage/HistogramChart.js";import I from"../components/RadioButton.js";import L from"../components/RadioGroup.js";import T from"../components/RunAside.js";import x from"../components/Title.js";import F from"../hooks/useTagFilter.js";import{useTranslation as N}from"../../web_modules/react-i18next.js";const H=()=>{const{t:e}=N(["histogram","common"]),[n,r]=g(!0),{runs:t,tagsWithSingleRun:i,selectedRuns:s,onChangeRuns:u,loading:l}=F("histogram",n),[m,p]=g(P.Offset),_=C(()=>t.length?o.createElement(T,{runs:t,selectedRuns:s,onChangeRuns:u,running:n,onToggleRunning:r},o.createElement(w,null,o.createElement(S,{label:e("histogram:mode")},o.createElement(L,{value:m,onChange:p},O.map(a=>o.createElement(I,{key:a,value:a},e(`histogram:mode-value.${a}`))))))):null,[e,m,u,n,t,s]),h=y(a=>{let{label:d,run:f}=a,R=E(a,["label","run"]);return o.createElement(A,c({run:f,tag:d},R,{mode:m,running:n}))},[n,m]);return o.createElement(o.Fragment,null,o.createElement(x,null,e("common:histogram")),o.createElement(U,{aside:_,loading:l},!l&&!t.length?o.createElement(v,null):o.createElement(b,{items:i,withChart:h,loading:l})))};export default H;
