function E(){return E=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},E.apply(this,arguments)}function V(t,s){if(t==null)return{};var n=W(t,s),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++){if(o=a[r],s.indexOf(o)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(t,o))continue;n[o]=t[o]}}return n}function W(t,s){if(t==null)return{};var n={},o=Object.keys(t),r,a;for(a=0;a<o.length;a++){if(r=o[a],s.indexOf(r)>=0)continue;n[r]=t[r]}return n}import q from"../components/ChartPage.js";import e,{useCallback as B,useEffect as Q,useMemo as b,useState as l}from"../../web_modules/react.js";import{XAxis as X,parseSmoothing as U,sortingMethod as C}from"../resource/scalar/index.js";import{AsideSection as d}from"../components/Aside.js";import S from"../components/Checkbox.js";import Y from"../components/Content.js";import H from"../components/Error.js";import c from"../components/Field.js";import K from"../components/RunAside.js";import $ from"../components/ScalarPage/ScalarChart.js";import z from"../components/Select.js";import G from"../components/Slider.js";import J from"../components/TimeModeSelect.js";import Z from"../components/Title.js";import{rem as v}from"../utils/style.js";import ee from"../../web_modules/styled-components.js";import te from"../hooks/useLocalStorage.js";import ne from"../hooks/useQuery.js";import oe from"../hooks/useTagFilter.js";import{useTranslation as re}from"../../web_modules/react-i18next.js";const se=ee.div.withConfig({displayName:"scalar__TooltipSortingDiv",componentId:"sc-1m6klyq-0"})(["margin-top:",";display:flex;align-items:center;>:last-child{margin-left:",";flex-shrink:1;flex-grow:1;}"],v(20),v(20)),ae=()=>{const{t}=re(["scalar","common"]),s=ne(),[n,o]=l(!0),{runs:r,tags:a,selectedRuns:R,onChangeRuns:P,loading:f}=oe("scalar",n),[j,y]=te("scalar_smoothing"),w=b(()=>s.smoothing!=null?U(s.smoothing):U(j),[s.smoothing,j]),[i,x]=l(w);Q(()=>y(String(i)),[i,y]);const[_,O]=l(X.Step),[u,T]=l(C[0]),[g,A]=l(!1),[p,L]=l(!1),[h,I]=l(!1),k=b(()=>r.length?e.createElement(K,{runs:r,selectedRuns:R,onChangeRuns:P,running:n,onToggleRunning:o},e.createElement(d,null,e.createElement(c,null,e.createElement(S,{value:g,onChange:A},t("scalar:ignore-outliers"))),e.createElement(c,null,e.createElement(S,{value:h,onChange:I},t("scalar:show-most-value"))),e.createElement(se,null,e.createElement("span",null,t("scalar:tooltip-sorting")),e.createElement(z,{list:C.map(m=>({label:t(`scalar:tooltip-sorting-value.${m}`),value:m})),value:u,onChange:T}))),e.createElement(d,null,e.createElement(c,{label:t("scalar:smoothing")},e.createElement(G,{min:0,max:.99,step:.01,value:i,onChangeComplete:x})),e.createElement(c,null,e.createElement(S,{value:p,onChange:L},t("scalar:smoothed-data-only")))),e.createElement(d,null,e.createElement(c,{label:t("scalar:x-axis")},e.createElement(J,{value:_,onChange:O})))):null,[t,g,h,p,P,n,r,R,i,u,_]),F=B(m=>{let{label:M,runs:N}=m,D=V(m,["label","runs"]);return e.createElement($,E({runs:N,tag:M},D,{smoothing:i,xAxis:_,sortingMethod:u,outlier:g,smoothedOnly:p,showMostValue:h,running:n}))},[i,_,u,g,h,p,n]);return e.createElement(e.Fragment,null,e.createElement(Z,null,t("common:scalar")),e.createElement(Y,{aside:k,loading:f},!f&&!r.length?e.createElement(H,null):e.createElement(q,{items:a,withChart:F,loading:f})))};export default ae;
