import p,{useCallback as s,useState as f}from"../../web_modules/react.js";import{height as g,padding as N}from"./Input.js";import{rem as v,size as R,transitionProps as j}from"../utils/style.js";import h from"../../web_modules/bignumberjs.js";import x from"./RangeSlider.js";import m from"../../web_modules/styled-components.js";const E=m.div.withConfig({displayName:"Slider__Wrapper",componentId:"sc-1jkwmza-0"})(["display:flex;align-items:center;"]),L=m.input.withConfig({displayName:"Slider__Input",componentId:"sc-1jkwmza-1"})(["",";line-height:",";display:inline-block;outline:none;padding:",";"," border:none;border-bottom:1px solid var(--border-color);text-align:center;background-color:transparent;color:var(--text-color);caret-color:var(--text-color);&:hover,&:focus{border-bottom-color:var(--border-focused-color);}"],R(g,v(52)),g,N,j(["border-color","color","caret-color"])),A=m(x).withConfig({displayName:"Slider__FullWidthRangeSlider",componentId:"sc-1jkwmza-2"})(["flex-grow:1;margin-right:",";"],v(20)),V=({onChange:r,onChangeComplete:i,value:w,min:c,max:d,step:l})=>{const o=s(e=>new h(e).dividedBy(l).integerValue(h.ROUND_HALF_UP).multipliedBy(l).toNumber(),[l]),[n,b]=f(o(w)),[y,a]=f(n+""),S=s(e=>{const t=o(e);a(t+""),b(t),r==null||r(t)},[o,r]),I=s(e=>{a(e);const t=Number.parseFloat(e);if(t<c||t>d||Number.isNaN(t))return;const u=o(t);b(u),r==null||r(u),i==null||i(u)},[r,i,c,d,o]),_=s(()=>{a(n+"")},[n]);return p.createElement(E,null,p.createElement(A,{min:c,max:d,step:l,value:n,onChange:S,onChangeComplete:()=>i==null?void 0:i(n)}),p.createElement(L,{type:"text",value:y,onChange:e=>I(e.currentTarget.value),onBlur:_,onKeyDown:e=>e.key==="Enter"&&_()}))};export default V;
