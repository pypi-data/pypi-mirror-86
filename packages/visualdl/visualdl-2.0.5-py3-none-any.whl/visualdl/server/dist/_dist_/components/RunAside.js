import A,{AsideSection as f}from"./Aside.js";import i,{useCallback as v,useMemo as d,useState as N}from"../../web_modules/react.js";import{ellipsis as U,em as m,rem as _,size as I}from"../utils/style.js";import h from"./Checkbox.js";import P from"./Field.js";import j from"./RunningToggle.js";import L from"./SearchInput.js";import k from"../../web_modules/styled-components.js";import T from"../../web_modules/lodash/uniqBy.js";import{useTranslation as O}from"../../web_modules/react-i18next.js";const R=k(A).withConfig({displayName:"RunAside__StyledAside",componentId:"sc-1k1mq1t-0"})(["",".run-section{flex:auto;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;margin-bottom:0;.run-select{flex:auto;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;> *{flex:none;}.search-input{margin-bottom:",";}.run-list{flex:auto;overflow-x:hidden;overflow-y:auto;margin-top:",";> div{margin-top:",";> *{width:100%;}.run-item{display:flex;align-items:center;"," > i{display:inline-block;",";border-radius:",";margin-right:",";}}}}}}"],f,_(15),_(5),_(11),U(),I(m(12),m(12)),m(6),m(8)),q=({runs:l,selectedRuns:t,onChangeRuns:a,running:p,onToggleRunning:u,children:b})=>{const{t:c}=O("common"),[s,g]=N(""),E=d(()=>(l==null?void 0:l.length)===(t==null?void 0:t.length),[l,t]),y=v(e=>{a==null||a(e?l!=null?l:[]:[])},[a,l]),w=d(()=>{var e;return(e=s?l==null?void 0:l.filter(n=>n.label.indexOf(s)>=0):l)!==null&&e!==void 0?e:[]},[l,s]),x=v((e,n)=>{let o=t!=null?t:[];n?o=T([...o,e],r=>r.label):o=o.filter(r=>r.label!==e.label),a==null||a(o)},[a,t]),S=d(()=>i.createElement(j,{className:"running-toggle",running:p,onToggle:u}),[p,u]);return i.createElement(R,{bottom:S},b,i.createElement(f,{className:"run-section"},i.createElement(P,{className:"run-select",label:c("common:select-runs")},i.createElement(L,{className:"search-input",value:s,onChange:g,placeholder:c("common:search-runs"),rounded:!0}),i.createElement(h,{value:E,onChange:y},c("common:select-all")),i.createElement("div",{className:"run-list"},w.map((e,n)=>{var o;return i.createElement("div",{key:n},i.createElement(h,{value:t==null||((o=t.map(r=>r.label))===null||o===void 0)?void 0:o.includes(e.label),title:e.label,onChange:r=>x(e,r)},i.createElement("span",{className:"run-item"},i.createElement("i",{style:{backgroundColor:e.colors[0]}}),e.label)))})))))};export default q;
