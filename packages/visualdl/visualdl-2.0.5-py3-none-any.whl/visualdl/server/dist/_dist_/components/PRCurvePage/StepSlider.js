import l,{useEffect as d,useState as c}from"../../../web_modules/react.js";import{ellipsis as p,size as f,transitionProps as _}from"../../utils/style.js";import g from"../Field.js";import h from"../RangeSlider.js";import{TimeType as i}from"../../resource/pr-curve/index.js";import{format as u}from"../../../web_modules/d3-format.js";import{formatTime as b}from"../../utils/index.js";import n from"../../../web_modules/styled-components.js";import{useTranslation as S}from"../../../web_modules/react-i18next.js";const w=u(".2f"),y=n.div.withConfig({displayName:"StepSlider__TimeDisplay",componentId:"sc-1fl78bd-0"})(["color:var(--text-lighter-color);font-size:0.857142857em;padding-left:1.666666667em;margin-bottom:0.416666667em;",""],_("color")),R=n.span.withConfig({displayName:"StepSlider__Label",componentId:"sc-1fl78bd-1"})(["display:inline-block;padding-left:1.428571429em;position:relative;"," &::before{content:'';display:block;"," background-color:",";border-radius:50%;position:absolute;left:0;top:50%;transform:translateY(-50%);}"],p(),f("0.857142857em","0.857142857em"),t=>t.color),v=n(h).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1fl78bd-2"})(["width:100%;"]),a={[i.WallTime]:"wallTimes",[i.Relative]:"relatives",[i.Step]:"steps"},x={[i.WallTime]:(t,{i18n:e})=>b(t,e.language),[i.Relative]:t=>`${w(t)} ms`,[i.Step]:(t,{t:e})=>`${e("common:time-mode.step")} ${t}`},I=({onChange:t,run:e,type:s})=>{const m=S("common"),[o,r]=c(e.index);return d(()=>r(e.index),[e.index]),l.createElement(g,{label:l.createElement(R,{color:e.colors[0],title:e.label},e.label)},l.createElement(y,null,e[a[s]][o]==null?"...":x[s](e[a[s]][o],m)),l.createElement(v,{min:0,max:e.steps.length?e.steps.length-1:0,step:1,value:o,onChange:r,onChangeComplete:()=>t==null?void 0:t(o)}))};export default I;
