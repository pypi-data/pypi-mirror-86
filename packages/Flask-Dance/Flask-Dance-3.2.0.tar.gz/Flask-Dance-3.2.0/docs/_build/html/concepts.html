
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Concepts &#8212; Flask Dance 2.2.0 documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Understanding the Magic" href="understanding-the-magic.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" />
     
    
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
    
    

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="understanding-the-magic.html" title="Understanding the Magic"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flask Dance 2.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h1>
<p>In order to use OAuth and Flask-Dance correctly, there are a few
basic concepts you need to understand. This page will summarize
these concepts, and provide links for further information.</p>
<div class="section" id="oauth">
<h2>OAuth<a class="headerlink" href="#oauth" title="Permalink to this headline">¶</a></h2>
<p>OAuth is a system that allows two websites to securely share information.
Usually (but not always), OAuth is used to allow users to grant permission
to share information from one website to another website.</p>
<p>An OAuth <strong>provider</strong> is a website that <em>provides</em> information about users
to other websites. An OAuth <strong>consumer</strong> is a website that requests information
from an OAuth provider. Before an OAuth provider will provide information about
a user to an OAuth consumer, the provider must ask the user to grant permission
to share that information with the consumer.</p>
<p>Before an OAuth provider will even speak to a consumer, the consumer must get
a <strong>client ID</strong> and <strong>client secret</strong> from that provider. It’s a bit like
how some website require you to create an account before you can do anything
else. OAuth providers do this so that they keep track of which consumers
they are sharing information with. If a consumer starts using information to do
evil things (like hacking or impersonating users), the provider can use
this information to deactivate that consumer’s access to the provider’s API.</p>
<p>After a user grants permission to share their data with a consumer, the
provider gives that consumer an <strong>OAuth token</strong>. This token records the fact
that the consumer has permission to access the information, and the consumer
must provide this token on <em>every API request</em>. If the consumer ever loses
this token, it has to get a new one, which might involve asking the user
for permission again. As a result, OAuth tokens must be stored somewhere
and retrieved as necessary.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If an attacker manages to steal an OAuth token from a consumer,
the attacker can use that token to do evil things to the user
that granted permission for that token. This could cause the
OAuth provider to deactivate the consumer from their API.
Be careful with OAuth tokens, and store them securely! If you don’t,
you could lose access to your provider’s API!</p>
</div>
</div>
<div class="section" id="user-management">
<h2>User Management<a class="headerlink" href="#user-management" title="Permalink to this headline">¶</a></h2>
<p>The most well-known use for OAuth is for bypassing user registration:
users can “sign in” with a well-known OAuth provider like Google or Facebook
in order to avoid creating another username and password. However, this is
not the <em>only</em> use for OAuth. In fact, it’s entirely possible to use
OAuth without even having a user management system on your website at all!</p>
<p>For example, let’s say you want to create a Twitter account that is completely
public. Anyone in the world should be able to post a tweet, without any
identifying information attached to it. You build a simple website that has
a text field and a “submit” button, but no user management system at all.
Whenever anyone submits a tweet to your website, it uses the Twitter API
to post that tweet to your Twitter account – which requires using OAuth.</p>
<p>Flask-Dance does <em>not</em> assume that your website has a user management system.
It’s easy to use Flask-Dance with a user management system if you want to,
though! Read the documentation on <a class="reference internal" href="multi-user.html"><span class="doc">Multi-User Setups</span></a> if you plan to use a
user management system.</p>
</div>
<div class="section" id="local-accounts-vs-provider-accounts">
<h2>Local Accounts vs Provider Accounts<a class="headerlink" href="#local-accounts-vs-provider-accounts" title="Permalink to this headline">¶</a></h2>
<p>It’s a common misconception that, because a user can log in to your website
using OAuth instead of creating a new username/password combination,
that means they do not have a user account on your website. This is false.
Logging in with OAuth <em>does create a local user account</em>, and that user account
will have some kind of identifier (or <code class="docutils literal notranslate"><span class="pre">user_id</span></code>). The <code class="docutils literal notranslate"><span class="pre">user_id</span></code> on this
local account does <em>not</em> have to match that user’s ID on Google,
or Facebook, or Twitter, or whatever OAuth provider(s) you choose to use.</p>
<p>The distinction between a local account and a provider account is especially
important when <a class="reference internal" href="logout.html"><span class="doc">implementing logout</span></a>.</p>
</div>
<div class="section" id="blueprints">
<h2>Blueprints<a class="headerlink" href="#blueprints" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference external" href="http://flask.pocoo.org/docs/blueprints/#blueprints" title="(in Flask v1.1)"><span class="xref std std-ref">Flask blueprint</span></a> is component of a
Flask application. Because Flask-Dance is designed to be the OAuth component
of your Flask application, it is built using blueprints. As a result,
Flask-Dance supports all the features that any blueprint supports,
including registering the blueprint at any URL prefix or subdomain
you want, url routing, and custom error handlers. Read the
<a class="reference external" href="http://flask.pocoo.org/docs/blueprints/#blueprints" title="(in Flask v1.1)"><span class="xref std std-ref">Flask documentation about blueprints</span></a>
for more information.</p>
</div>
<div class="section" id="signals">
<h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>Flask uses the <a class="reference external" href="https://pythonhosted.org/blinker/">blinker</a> library to provide support for
<a class="reference external" href="http://flask.pocoo.org/docs/signals/#signals" title="(in Flask v1.1)"><span class="xref std std-ref">signals</span></a>. Signals allow you to subscribe to certain
events that occur in your application, so that you can respond instantly
when those events happen.</p>
<p>Signals are an important part of Flask-Dance, because they allow you to
do whatever custom processing you want in response to certain events.
For example, when a user successfully completes the OAuth dance, you probably
want to flash a welcome message or kick off some kind of data import task.
Signals allow you to do that without modifying the code in Flask-Dance.
Read the <a class="reference external" href="http://flask.pocoo.org/docs/signals/#signals" title="(in Flask v1.1)"><span class="xref std std-ref">signals page</span></a> for more information.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Concepts</a><ul>
<li><a class="reference internal" href="#oauth">OAuth</a></li>
<li><a class="reference internal" href="#user-management">User Management</a></li>
<li><a class="reference internal" href="#local-accounts-vs-provider-accounts">Local Accounts vs Provider Accounts</a></li>
<li><a class="reference internal" href="#blueprints">Blueprints</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="quickstart.html" title="previous chapter">Quickstart</a></li>
      <li>Next: <a href="understanding-the-magic.html" title="next chapter">Understanding the Magic</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/concepts.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

<div class="github">
    <a href="https://github.com/singingwolfboy/flask-dance">
        <span>Fork me on GitHub</span>
        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>
</div>


    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2019, David Baumgold.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
    

  </body>
</html>