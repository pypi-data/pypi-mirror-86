(function(e){function t(t){for(var n,o,c=t[0],r=t[1],l=t[2],p=0,d=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var r=a[c];0!==s[r]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},s={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=r;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},1:function(e,t){},"21da":function(e,t,a){"use strict";var n=a("39f1"),s=a.n(n);s.a},"39bd":function(e,t,a){},"39f1":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("iOS")],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",[a("i-col",{staticClass:"ios-split",attrs:{span:"6"}},[a("device-list",{staticClass:"device-list"}),a("screen-shot",{directives:[{name:"show",rawName:"v-show",value:e.focusDeviceId,expression:"focusDeviceId"}]})],1),a("i-col",{staticClass:"ios-split",attrs:{span:"18"}},[a("div",{staticStyle:{height:"100vh"}},[a("Split",{attrs:{mode:"vertical"},model:{value:e.split,callback:function(t){e.split=t},expression:"split"}},[a("Row",{staticClass:"ios-split-pane",staticStyle:{height:"100%"},attrs:{slot:"top"},slot:"top"},[a("device-info")],1),a("Row",{staticClass:"ios-split-pane",staticStyle:{height:"100%"},attrs:{slot:"bottom"},slot:"bottom"},[a("package-info")],1)],1)],1)])],1)},c=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0===Object.keys(e.devices).length?a("div",{staticClass:"cell-empty"},[a("p",{staticStyle:{"text-align":"center"}},[e._v("No devices")])]):a("div",[a("CellGroup",{on:{"on-click":e.onCellClick}},e._l(e.devices,(function(t,n){return a("Cell",{key:n,staticClass:"device-list-cell",attrs:{name:n,selected:e.focusDeviceId===n}},[a("span",[e._v(e._s(t.model?t.model:"Unknown"))]),a("span",{staticStyle:{"padding-left":"20px","font-size":"12px",color:"#bbbbbb"}},[e._v(e._s(t.device_name))]),a("Icon",{attrs:{slot:"extra",type:"md-camera",size:"18"},nativeOn:{click:function(a){return e.takeScreenShot(t.device_name)}},slot:"extra"})],1)})),1)],1)},l=[],u={computed:{devices:function(){return this.$store.state.devices},focusDeviceId:function(){return this.$store.state.focusDeviceId}},methods:{onCellClick:function(e){this.focusDeviceId!==e&&(this.$store.commit("setFocusDeviceId",e),this.$store.commit("setDeviceInfo",this.devices[e]),this.$store.dispatch("loadPackages"),this.$store.dispatch("takeScreenShot"))},takeScreenShot:function(e){this.focusDeviceId&&(this.$bus.$emit("msg.info","Taking screenshot of "+e),this.$store.dispatch("takeScreenShot"))}}},p=u,d=(a("21da"),a("2877")),f=Object(d["a"])(p,r,l,!1,null,null,null),v=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"info-header",attrs:{type:"flex",align:"middle"}},[a("i-col",{attrs:{span:"6"}},[a("strong",[e._v("Device information")])]),a("i-col",{attrs:{span:"18",align:"right"}},[a("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.getDeviceDetail(t)}}},[e._v("more detail")])],1)],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Device ID")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.device_id))])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Model")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.model))])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Device Name")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.device_name))])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("OS Version")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.os_version))])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Phone Number")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.phone_number))])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Serial Number")])]),a("i-col",{attrs:{span:"16"}},[e._v(e._s(e.deviceInfo.sn))])],1),a("Modal",{attrs:{title:"Detail",width:"1000",styles:{top:"5vh"},"footer-hide":!0},model:{value:e.showDeviceDetail,callback:function(t){e.showDeviceDetail=t},expression:"showDeviceDetail"}},[a("pre",{staticStyle:{height:"70vh","overflow-x":"auto"}},[e._v(e._s(e.deviceDetail))])])],1)},h=[],m=a("bc3a"),_=a.n(m),k="/plugins/ios/api",b=function(e){return e.data.hasOwnProperty("code")?1e3!==e.data.code?Promise.reject(e):e:Promise.reject(e)},S=function(e){return Promise.reject(e)};_.a.interceptors.response.use(b,S);var I=function(){return _()({url:k+"/check_env"})},y=function(){return _()({url:k+"/devices"})},D=function(e,t){return _()({url:k+"/apps/"+e+"/"+t})},$=function(){return _()({url:k+"/conf"})},P=function(e){return _()({url:k+"/device/"+e})},x=function(e){return _()({url:k+"/apps/"+e})},w=function(e){return _()({url:k+"/screenshot/"+e})},N=function(e,t){return _()({url:k+"/start_app/"+e+"/"+t})},O=function(e,t){return _()({url:k+"/stop_app/"+e+"/"+t})},A={data:function(){return{showDeviceDetail:!1,deviceDetail:null}},computed:{deviceInfo:function(){return this.$store.state.deviceInfo}},methods:{getDeviceDetail:function(){var e=this;this.showDeviceDetail=!0,P(this.deviceInfo.device_id).then((function(t){e.deviceDetail=t.data.device_detail}))}}},j=A,C=Object(d["a"])(j,g,h,!1,null,null,null),M=C.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.screenShotUrl?a("div",{staticStyle:{"text-align":"center"}},[a("span",[a("img",{staticClass:"ios-img",attrs:{src:e.screenShotUrl}})])]):e._e()},L=[],U={computed:{screenShotUrl:function(){return this.$store.state.screenShotUrl}}},T=U,E=Object(d["a"])(T,R,L,!1,null,null,null),z=E.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"info-header",attrs:{type:"flex",align:"middle"}},[a("i-col",{attrs:{span:"8"}},[a("strong",[e._v("App information")])]),a("i-col",{attrs:{span:"16",align:"right"}},[a("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:e.isStartingApp||!e.packageName},nativeOn:{click:function(t){return e.startApp(t)}}},[e._v("Start App")]),a("Button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary",size:"small",disabled:!e.packageName},nativeOn:{click:function(t){return e.stopApp(t)}}},[e._v("Stop App")])],1)],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Application")])]),a("i-col",{attrs:{span:"16"}},[a("i-select",{attrs:{size:"small",placeholder:"Application",filterable:""},model:{value:e.packageName,callback:function(t){e.packageName=t},expression:"packageName"}},e._l(e.packages,(function(t){return a("i-option",{key:t.bundle_id,attrs:{value:t.bundle_id,label:t.bundle_id}},[a("span",[e._v(e._s(t.bundle_id))]),a("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(t.app_name))])])})),1)],1)],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("App Name")])]),a("i-col",{attrs:{span:"16"}},[a("span",[e._v(e._s(e.packageInfo.AppName))])])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("AppVersion")])]),a("i-col",{attrs:{span:"16"}},[a("span",[e._v(e._s(e.packageInfo.VersionNumber))])])],1),a("Row",{staticStyle:{padding:"10px"}},[a("i-col",{attrs:{span:"8"}},[a("b",[e._v("Build Number")])]),a("i-col",{attrs:{span:"16"}},[a("span",[e._v(e._s(e.packageInfo.BuildNumber))])])],1),e.isLoadingPackageInfo?a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),a("div",[e._v("Loading information of "),a("b",[e._v(e._s(e.packageName))])])],1):e._e()],1)},B=[],V={computed:{packageName:{get:function(){return this.$store.state.focusPackageName},set:function(e){this.$store.commit("setFocusPackageName",e),this.$store.dispatch("loadPackageInfo")}},packages:function(){return this.$store.state.packages},packageInfo:function(){return this.$store.state.packageInfo},isLoadingPackageInfo:function(){return this.$store.state.isLoadingPackageInfo},isStartingApp:function(){return this.$store.state.isStartingApp}},methods:{startApp:function(){this.$store.dispatch("startApp")},stopApp:function(){this.$store.dispatch("stopApp")}}},J=V,G=(a("7057"),Object(d["a"])(J,F,B,!1,null,null,null)),q=G.exports,H={components:{DeviceList:v,DeviceInfo:M,ScreenShot:z,PackageInfo:q},data:function(){return{split:.5}},created:function(){this.checkEnvironment(),this.$bus.$on("msg.success",this.successMessage),this.$bus.$on("msg.info",this.infoMessage),this.$bus.$on("msg.error",this.errorMessage)},computed:{focusDeviceId:function(){return this.$store.state.focusDeviceId}},methods:{checkEnvironment:function(){var e=this;I().then(this.$store.dispatch("loadDevices"),this.$io.on("ios-device",this.getDevices)).catch((function(t){e.$bus.$emit("msg.error",t.data.message)}))},getDevices:function(){this.$store.dispatch("loadDevices")},successMessage:function(e){this.$Message.success({content:e,duration:3,closable:!0})},infoMessage:function(e){this.$Message.info({content:e,duration:3,closable:!0})},errorMessage:function(e){this.$Message.error({content:e,duration:0,closable:!0})}}},K=H,Q=(a("e057"),Object(d["a"])(K,o,c,!1,null,null,null)),W=Q.exports,X={name:"app",components:{iOS:W}},Y=X,Z=(a("034f"),Object(d["a"])(Y,s,i,!1,null,null,null)),ee=Z.exports,te=(a("7514"),a("2f62")),ae=new n["default"];n["default"].use(te["a"]);var ne=new te["a"].Store({state:{devices:{},focusDeviceId:null,deviceInfo:{},isTakingScreen:!1,screenShotUrl:null,packages:[],focusPackageName:null,packageInfo:{},isLoadingPackageInfo:!1,isStartingApp:!1},mutations:{setDevices:function(e,t){e.devices=t},setFocusDeviceId:function(e,t){e.focusDeviceId=t},setDeviceInfo:function(e,t){e.deviceInfo=t},setIsTakingScreen:function(e,t){e.isTakingScreen=t},setScreenShotUrl:function(e,t){e.screenShotUrl=t},setPackages:function(e,t){e.packages=t},setFocusPackageName:function(e,t){e.focusPackageName=t},setPackageInfo:function(e,t){e.packageInfo=t},setIsLoadingPackageInfo:function(e,t){e.isLoadingPackageInfo=t},setIsStartingApp:function(e,t){e.isStartingApp=t}},actions:{loadDevices:function(e){var t=e.state,a=e.commit;y().then((function(e){a("setDevices",e.data.device_list),t.devices.hasOwnProperty(t.focusDeviceId)||(a("setFocusDeviceId",null),a("setScreenShotUrl",null),a("setDeviceInfo",{}),a("setPackages",{}),a("setPackageInfo",[]))})).catch((function(e){ae.$emit("msg.error","Load device list error: "+e.data.message)}))},takeScreenShot:function(e){var t=e.state,a=e.commit;a("setIsTakingScreen",!0),w(t.focusDeviceId).then((function(e){a("setScreenShotUrl",e.data.imgUrl),a("setIsTakingScreen",!1)})).catch((function(e){ae.$emit("msg.error","Take screenshot error: "+e.data.message)}))},loadPackages:function(e){var t=e.state,a=e.commit,n=e.dispatch;x(t.focusDeviceId).then((function(e){a("setPackages",e.data.app_list),n("loadDefaultPackageName")})).catch((function(e){ae.$emit("msg.error","Load device application list error: "+e.data.message)}))},loadDefaultPackageName:function(e){var t=e.state,a=e.commit,n=e.dispatch;$().then((function(e){e.data.bundle_id&&t.packages.find((function(t){t.bundle_id===e.data.bundle_id&&(a("setFocusPackageName",e.data.bundle_id),n("loadPackageInfo"))}))})).catch((function(e){ae.$emit("msg.error","Load default application error: "+e.data.message)}))},loadPackageInfo:function(e){var t=e.state,a=e.commit;a("setIsLoadingPackageInfo",!0),D(t.focusDeviceId,t.focusPackageName).then((function(e){a("setPackageInfo",e.data.app_info),a("setIsLoadingPackageInfo",!1)})).catch((function(e){ae.$emit("msg.error","Load application information error: "+e.data.message)}))},startApp:function(e){var t=e.state,a=e.commit;a("setIsStartingApp",!0),N(t.focusDeviceId,t.focusPackageName).then(a("setIsStartingApp",!1)).catch((function(e){ae.$emit("msg.error","Start application"+t.focusPackageName+" error: "+e.data.message)}))},stopApp:function(e){var t=e.state;O(t.focusDeviceId,t.focusPackageName).catch((function(e){ae.$emit("msg.error","Stop application"+t.focusPackageName+" error: "+e.data.message)}))}}}),se=a("e069"),ie=a.n(se),oe=(a("dcad"),a("69c5")),ce=a.n(oe),re=a("8055"),le=a.n(re);n["default"].config.productionTip=!1,n["default"].use(ie.a,{locale:ce.a}),n["default"].use(ie.a),n["default"].prototype["$io"]=le()(),n["default"].prototype.$bus=ae,new n["default"]({store:ne,render:function(e){return e(ee)}}).$mount("#app")},"64a9":function(e,t,a){},7057:function(e,t,a){"use strict";var n=a("ac63"),s=a.n(n);s.a},ac63:function(e,t,a){},e057:function(e,t,a){"use strict";var n=a("39bd"),s=a.n(n);s.a}});